是的，在 Exposed 中，当你在 `transaction` 块内执行修改表的操作（例如插入、更新、删除），这些操作通常会返回一个 **整数**，表示受影响的行数（类似于 JDBC 的行为）。以下是更详细的解释和示例：

---

### **1. `INSERT` 操作**

`insert` 操作返回的结果是受影响的行数（通常是 1），如果使用 `Exposed` 的 `insert` 方法，结果可以进一步处理以获取插入的主键。

#### 示例：

```kotlin
val insertedRows = transaction {
    Users.insert {
        it[name] = "Alice"
        it[email] = "alice@example.com"
    }
}
println("插入的行数: $insertedRows") // 通常返回 1
```

如果你需要获取插入行的主键，可以这样写：

```kotlin
val id = transaction {
    Users.insertAndGetId {
        it[name] = "Alice"
        it[email] = "alice@example.com"
    }.value
}
println("插入行的 ID: $id")
```

---

### **2. `UPDATE` 操作**

`update` 操作会返回一个整数，表示被修改的行数。

#### 示例：

```kotlin
val updatedRows = transaction {
    Users.update({ Users.name eq "Alice" }) {
        it[email] = "newalice@example.com"
    }
}
println("更新的行数: $updatedRows") // 返回修改的行数
```

如果没有任何记录被修改，返回值将是 `0`。

---

### **3. `DELETE` 操作**

`delete` 操作返回一个整数，表示被删除的行数。

#### 示例：

```kotlin
val deletedRows = transaction {
    Users.deleteWhere { Users.name eq "Alice" }
}
println("删除的行数: $deletedRows") // 返回删除的行数
```

同样，如果没有记录被删除，返回值将是 `0`。

---

### **4. 对多个操作的返回值**

如果在 `transaction` 块中执行多个表修改操作，返回值是最后一个操作的结果。

#### 示例：

```kotlin
val lastResult = transaction {
    Users.insert {
        it[name] = "Bob"
        it[email] = "bob@example.com"
    }
    Users.update({ Users.name eq "Bob" }) {
        it[email] = "updatedbob@example.com"
    } // 这里返回的是更新的行数
}
println("最后操作的返回值: $lastResult")
```

---

### **5. 如果想返回自定义结果**

你可以在 `transaction` 块中组合多个操作，并返回你需要的结果（例如插入行数和更新行数的总和）。

#### 示例：

```kotlin
val totalAffectedRows = transaction {
    val insertResult = Users.insert {
        it[name] = "Charlie"
        it[email] = "charlie@example.com"
    }
    val updateResult = Users.update({ Users.name eq "Charlie" }) {
        it[email] = "newcharlie@example.com"
    }
    insertResult + updateResult // 返回插入和更新行数的总和
}
println("总共受影响的行数: $totalAffectedRows")
```

---

### **6. 查询操作与修改操作的混合使用**

如果在 `transaction` 块中既有查询操作又有修改操作，返回值依旧是最后一个操作的结果。

#### 示例：

```kotlin
val result = transaction {
    Users.insert {
        it[name] = "David"
        it[email] = "david@example.com"
    }
    Users.select { Users.name eq "David" }
        .map { it[Users.email] }
        .singleOrNull()
}
println("插入并查询的结果: $result") // 返回插入后的 email 地址
```

---

### **总结**

在 Exposed 的 `transaction {}` 块中：

- **插入操作** (`insert`) 通常返回受影响的行数，或者可以通过 `insertAndGetId` 获取插入记录的主键。
- **更新操作** (`update`) 返回被修改的行数。
- **删除操作** (`deleteWhere`) 返回被删除的行数。
- **查询操作** 返回查询的结果，可以是单个对象、列表或其他类型。
- 最终返回值始终是 `transaction` 块中最后一行表达式的值。

#### **最佳实践**

1. 如果只关心修改行数，直接使用返回的整数值。
2. 如果需要组合结果，可以自定义返回值逻辑。
3. 如果需要插入后查询，建议将插入和查询逻辑写在同一个 `transaction` 块中以确保一致性。