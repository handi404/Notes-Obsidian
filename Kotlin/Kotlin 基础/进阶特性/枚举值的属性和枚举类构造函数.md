在 Kotlin 中，枚举值的属性**需要和枚举类构造函数一致**，因为枚举类的每个枚举值本质上是该枚举类的实例。枚举值在定义时必须提供与枚举类构造函数匹配的参数。

---

### **1. 枚举类构造函数和枚举值的关系**

#### **规则：**

- 如果枚举类有构造函数，那么每个枚举值都必须提供与构造函数参数一致的值。
- 如果枚举类没有构造函数，则枚举值不需要提供参数。

---

### **2. 示例：枚举类有构造函数**

```kotlin
enum class Color(val rgb: Int) {
    RED(0xFF0000),
    GREEN(0x00FF00),
    BLUE(0x0000FF)
}
```

- **`Color` 枚举类的构造函数**需要一个 `Int` 类型的参数。
- 每个枚举值（`RED`, `GREEN`, `BLUE`）都必须提供一个 `Int` 参数作为构造函数的参数。

#### **使用枚举值：**

```kotlin
fun main() {
    val red = Color.RED
    println("Color: ${red.name}, RGB: ${red.rgb}") // 输出：Color: RED, RGB: 16711680
}
```

---

### **3. 示例：枚举类没有构造函数**

```kotlin
enum class Direction {
    NORTH,
    SOUTH,
    EAST,
    WEST
}
```

- **`Direction` 枚举类没有构造函数**，因此枚举值 `NORTH`, `SOUTH`, `EAST`, `WEST` 不需要提供参数。

#### **使用枚举值：**

```kotlin
fun main() {
    val direction = Direction.NORTH
    println("Direction: ${direction.name}") // 输出：Direction: NORTH
}
```

---

### **4. 当枚举类有多个参数时**

```kotlin
enum class Planet(val mass: Double, val radius: Double) {
    EARTH(5.972E24, 6371.0),
    MARS(0.64171E24, 3389.5),
    JUPITER(1.898E27, 69911.0)
}
```

- 每个枚举值（`EARTH`, `MARS`, `JUPITER`）都需要提供 **两个参数**，分别为 `mass` 和 `radius`，与枚举类的构造函数匹配。

#### **使用枚举值：**

```kotlin
fun main() {
    val earth = Planet.EARTH
    println("Planet: ${earth.name}, Mass: ${earth.mass}, Radius: ${earth.radius}")
    // 输出：Planet: EARTH, Mass: 5.972E24, Radius: 6371.0
}
```

---

### **5. 如果枚举值不匹配构造函数会怎样？**

如果枚举值的参数与枚举类构造函数不匹配，编译器会报错。

#### **示例：参数不匹配**

```kotlin
enum class Color(val rgb: Int) {
    RED(0xFF0000),
    GREEN, // 编译错误：需要提供构造函数参数
    BLUE(0x0000FF)
}
```

**错误信息：**

```
Enum entry GREEN should have a corresponding constructor invocation
```

---

### **6. 枚举类中的特殊情况：匿名类**

Kotlin 枚举值可以声明匿名类，并重写方法，但必须符合构造函数要求。

#### **示例：匿名类重写方法**

```kotlin
enum class Operation(val symbol: String) {
    ADD("+") {
        override fun apply(x: Int, y: Int) = x + y
    },
    SUBTRACT("-") {
        override fun apply(x: Int, y: Int) = x - y
    };

    abstract fun apply(x: Int, y: Int): Int
}
```

- `Operation` 枚举类有一个构造函数参数 `symbol`。
- 每个枚举值（`ADD`, `SUBTRACT`）都提供了 `symbol` 参数，同时定义了匿名类以重写 `apply` 方法。

#### **使用枚举值：**

```kotlin
fun main() {
    val operation = Operation.ADD
    println("Operation: ${operation.symbol}, Result: ${operation.apply(5, 3)}")
    // 输出：Operation: +, Result: 8
}
```

---

### **7. 总结**

1. 如果枚举类有构造函数，**枚举值必须提供构造函数需要的参数**，且参数的数量、类型和顺序必须一致。
2. 如果枚举类没有构造函数，则枚举值不需要提供参数。
3. 枚举值还可以声明匿名类，重写枚举类中的方法，但仍需遵循构造函数的参数要求。

通过这种设计，Kotlin 保证了枚举值的构造是清晰且安全的！