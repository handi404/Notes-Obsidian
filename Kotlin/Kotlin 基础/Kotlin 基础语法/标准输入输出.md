在 Kotlin 中，标准输入输出是与用户交互的基础功能。我们可以通过 `print` 和 `println` 输出内容到控制台，通过 `readLine()` 接收用户的输入。下面重点介绍 **标准输入输出** 的基本用法和一些常见的方法。

---

## **1. 标准输出**

Kotlin 提供了两个常用函数用于将信息输出到控制台：

- **`print()`**：输出内容，不换行。
- **`println()`**：输出内容，并换行。

### **示例**

```kotlin
fun main() {
    print("请输入你的名字：") // 输出不换行
    println("欢迎使用 Kotlin！") // 输出并换行
}
```

**输出**

```
请输入你的名字：欢迎使用 Kotlin！
```

---

## **2. 标准输入**

`readLine()` 是 Kotlin 用于接收用户输入的函数，返回值类型是 `String?`（可空类型）。这意味着 `readLine()` 的结果可能是 `null`，例如在输入中断时（如按下 `Ctrl+D` 或 `Ctrl+Z`）。

### **2.1 基本用法**

```kotlin
fun main() {
    println("请输入你的名字：")
    val name = readLine() // 从控制台读取一行输入
    println("你好，$name！")
}
```

---

### **2.2 转换输入类型**

由于 `readLine()` 默认返回的是字符串，如果需要其他类型（如整数、浮点数等），需要对输入进行转换。

#### **字符串转换为整数（`toIntOrNull()`）**

- **`toIntOrNull()`**：将字符串安全地转换为整数，如果转换失败返回 `null`。

```kotlin
fun main() {
    println("请输入一个数字：")
    val input = readLine()
    val number = input?.toIntOrNull() // 安全转换
    if (number != null) {
        println("输入的数字是：$number")
    } else {
        println("输入的不是一个有效的数字！")
    }
}
```

#### **字符串转换为浮点数（`toDoubleOrNull()`）**

- **`toDoubleOrNull()`**：将字符串安全地转换为浮点数。

```kotlin
fun main() {
    println("请输入一个浮点数：")
    val input = readLine()
    val number = input?.toDoubleOrNull()
    if (number != null) {
        println("输入的浮点数是：$number")
    } else {
        println("输入的不是一个有效的浮点数！")
    }
}
```

---

### **2.3 常见的转换方法**

| 方法名                | 描述                                              |
| ------------------ | ----------------------------------------------- |
| `toIntOrNull()`    | 将字符串转换为整数，失败时返回 `null`。                         |
| `toDoubleOrNull()` | 将字符串转换为浮点数，失败时返回 `null`。                        |
| `toLongOrNull()`   | 将字符串转换为长整数，失败时返回 `null`。                        |
| `toBoolean()`      | 将字符串转换为布尔值，"true"（忽略大小写）返回 `true`，其他返回 `false`。 |
| `trim()`           | 去除字符串前后多余的空格。                                   |
| `isNullOrBlank()`  | 检查字符串是否为空或只包含空白字符。                              |
| `isNullOrEmpty()`  | 检查字符串是否为空或为 `null`。                             |

---

## **3. 输入后的常见操作示例**

### **3.1 检查空输入**

使用 `isNullOrBlank()` 或 `isNullOrEmpty()` 检查用户输入是否为空或无效。

```kotlin
fun main() {
    println("请输入内容：")
    val input = readLine()
    if (input.isNullOrBlank()) {
        println("输入内容不能为空！")
    } else {
        println("你输入的内容是：$input")
    }
}
```

---

### **3.2 去除多余空格（`trim()`）**

用户输入时可能会包含无效的空格，可以用 `trim()` 去除前后空格。

```kotlin
fun main() {
    println("请输入内容：")
    val input = readLine()?.trim()
    if (input.isNullOrEmpty()) {
        println("输入内容不能为空！")
    } else {
        println("去除空格后的内容是：$input")
    }
}
```

---

### **3.3 接收多个值（分隔符处理）**

用户输入多个值时，可以使用 `split()` 将输入按分隔符拆分成多个部分。

```kotlin
fun main() {
    println("请输入三个数字，用空格分隔：")
    val input = readLine()
    val numbers = input?.split(" ")?.mapNotNull { it.toIntOrNull() } // 按空格分隔并转换为整数
    if (numbers.isNullOrEmpty()) {
        println("输入内容无效！")
    } else {
        println("输入的数字是：$numbers")
    }
}
```

---

### **3.4 转换为布尔值（`toBoolean()`）**

`toBoolean()` 将字符串转换为布尔值，只有 "true"（大小写不敏感）会返回 `true`，其余情况返回 `false`。

```kotlin
fun main() {
    println("请输入是否同意（true/false）：")
    val input = readLine()?.toBoolean()
    if (input == true) {
        println("你同意了！")
    } else {
        println("你不同意！")
    }
}
```

---

### **3.5 默认值处理**

如果用户没有输入，可以提供一个默认值：

```kotlin
fun main() {
    println("请输入你的年龄（默认18）：")
    val age = readLine()?.toIntOrNull() ?: 18 // 如果输入无效，使用默认值 18
    println("你的年龄是：$age")
}
```

---

## **4. 综合示例：简易计算器**

以下是一个综合使用输入输出的方法，构建一个简易计算器：

```kotlin
fun main() {
    println("请输入第一个数字：")
    val num1 = readLine()?.toDoubleOrNull()
    
    println("请输入操作符 (+, -, *, /)：")
    val operator = readLine()
    
    println("请输入第二个数字：")
    val num2 = readLine()?.toDoubleOrNull()
    
    if (num1 != null && num2 != null && operator != null) {
        val result = when (operator.trim()) {
            "+" -> num1 + num2
            "-" -> num1 - num2
            "*" -> num1 * num2
            "/" -> if (num2 != 0.0) num1 / num2 else "除数不能为零！"
            else -> "无效的操作符！"
        }
        println("计算结果是：$result")
    } else {
        println("输入无效，请确保输入的是数字和有效的操作符！")
    }
}
```

---

## **5. 总结**

Kotlin 的标准输入输出操作非常简洁，主要通过以下方式实现：

- **标准输出**：使用 `print()` 和 `println()` 输出内容。
- **标准输入**：使用 `readLine()` 接收用户输入。

在此基础上，结合类型转换方法（如 `toIntOrNull()` 和 `toDoubleOrNull()`），可以实现各种输入校验和处理。此外，使用 `trim()` 去除空格，或通过 `split()` 分割输入，可以增强用户输入的灵活性。

这种组合让 Kotlin 的输入输出功能更加强大、灵活，并适用于各种场景。