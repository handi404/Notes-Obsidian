### **Kotlin 条件语句和循环详解**

---

### **1. 条件语句**

#### **1.1 `if` 表达式**

Kotlin 中的 `if` 是一个表达式，可以有返回值，不仅限于控制流程。

##### **基本用法**

```kotlin
fun main() {
    val number = 10
    if (number > 0) {
        println("Number is positive")
    } else if (number < 0) {
        println("Number is negative")
    } else {
        println("Number is zero")
    }
}
```

##### **作为表达式使用**

`if` 可以作为表达式直接返回值，而不是仅用于条件判断。

```kotlin
fun main() {
    val a = 5
    val b = 10

    val max = if (a > b) a else b  // 使用 if 表达式返回较大值
    println("Max: $max")
}
```

---

#### **1.2 `when` 表达式**

`when` 是 Kotlin 中的多分支表达式，功能类似 Java 的 `switch`，但功能更强大。

##### **基本用法**

```kotlin
fun main() {
    val day = 3

    when (day) {
        1 -> println("Monday")
        2 -> println("Tuesday")
        3 -> println("Wednesday")
        else -> println("Invalid day")
    }
}
```

##### **作为表达式使用**

`when` 也可以作为表达式，返回值：

```kotlin
fun main() {
    val day = 3

    val dayName = when (day) {
        1 -> "Monday"
        2 -> "Tuesday"
        3 -> "Wednesday"
        else -> "Invalid day"
    }
    println(dayName)
}
```

##### **匹配多个条件**

```kotlin
fun main() {
    val number = 5

    when (number) {
        1, 3, 5, 7, 9 -> println("Odd number")
        2, 4, 6, 8, 10 -> println("Even number")
        else -> println("Number not in range 1-10")
    }
}
```

##### **匹配范围和类型**

- **范围匹配**：使用 `in` 关键字。
- **类型匹配**：`is` 关键字用于检查变量类型。

```kotlin
fun main() {
    val number = 15

    when (number) {
        in 1..10 -> println("Number is between 1 and 10")
        in 11..20 -> println("Number is between 11 and 20")
        else -> println("Number is out of range")
    }

    val obj: Any = "Kotlin"
    when (obj) {
        is String -> println("It's a String")
        is Int -> println("It's an Integer")
        else -> println("Unknown type")
    }
}
```

---

### **2. 循环语句**

#### **2.1 `for` 循环**

Kotlin 的 `for` 循环适用于遍历集合或范围。

##### **遍历范围**

```kotlin
fun main() {
    for (i in 1..5) {  // 从 1 到 5（包括 5）
        println(i)
    }

    for (i in 1 until 5) {  // 从 1 到 5（不包括 5）
        println(i)
    }

    for (i in 5 downTo 1) {  // 从 5 到 1，倒序
        println(i)
    }

    for (i in 1..10 step 2) {  // 每次增加 2
        println(i)
    }
}
```

##### **遍历集合**

```kotlin
fun main() {
    val items = listOf("Apple", "Banana", "Cherry")

    for (item in items) {
        println(item)
    }

    for ((index, value) in items.withIndex()) {  // 获取索引和值
        println("Index: $index, Value: $value")
    }
}
```

---

#### **2.2 `while` 循环**

`while` 循环在条件为真时重复执行代码。

```kotlin
fun main() {
    var i = 1

    while (i <= 5) {
        println(i)
        i++
    }
}
```

---

#### **2.3 `do-while` 循环**

`do-while` 循环会先执行代码，然后再判断条件。

```kotlin
fun main() {
    var i = 1

    do {
        println(i)
        i++
    } while (i <= 5)
}
```

---

### **3. 循环控制关键字**

- **`break`**：跳出循环。
- **`continue`**：跳过当前循环的剩余部分，继续下一次循环。
- **标签**：使用标签配合 `break` 或 `continue` 控制嵌套循环。

```kotlin
fun main() {
    // 使用 break
    for (i in 1..5) {
        if (i == 3) break
        println(i)
    }

    // 使用 continue
    for (i in 1..5) {
        if (i == 3) continue
        println(i)
    }

    // 嵌套循环 + 标签
    outer@ for (i in 1..3) {
        for (j in 1..3) {
            if (i == 2 && j == 2) break@outer  // 跳出外层循环
            println("i = $i, j = $j")
        }
    }
}
```

---

### **练习题**

1. 编写一个程序，输入一个数字并判断它是正数、负数还是零。
2. 使用 `when` 表达式，输出一个分数对应的等级（如 90-100 为 A，80-89 为 B，依此类推）。
3. 使用 `for` 循环打印 1 到 20 的所有奇数。
4. 使用 `while` 循环求 1 到 10 的累加和。

完成后，随时可以与我讨论代码或进一步提问！ 😊