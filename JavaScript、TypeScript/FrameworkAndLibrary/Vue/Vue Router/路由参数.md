### **è¯¦è§£ Vue Router ä¸­çš„ Route Parametersï¼ˆè·¯ç”±å‚æ•°ï¼‰**

Vue Router ä¸­çš„ Route Parametersï¼ˆè·¯ç”±å‚æ•°ï¼‰ç”¨äºå‘è·¯ç”±åŠ¨æ€ä¼ é€’æ•°æ®ï¼Œå¸¸è§çš„æœ‰è·¯å¾„å‚æ•°å’ŒæŸ¥è¯¢å‚æ•°ã€‚è¿™äº›å‚æ•°ä½¿å¾—å•é¡µé¢åº”ç”¨èƒ½å¤Ÿæ ¹æ®ä¸åŒçš„ä¸Šä¸‹æ–‡æ¸²æŸ“ä¸åŒçš„å†…å®¹ï¼Œä¾‹å¦‚ç”¨æˆ·è¯¦æƒ…é¡µã€æœç´¢ç»“æœé¡µç­‰ã€‚

---

### **1. è·¯ç”±å‚æ•°åˆ†ç±»**

1. **è·¯å¾„å‚æ•°ï¼ˆPath Parametersï¼‰**  
    è·¯å¾„çš„ä¸€éƒ¨åˆ†ï¼Œé€šå¸¸é€šè¿‡ `:` å®šä¹‰åŠ¨æ€æ®µã€‚
    
2. **æŸ¥è¯¢å‚æ•°ï¼ˆQuery Parametersï¼‰**  
    ä»¥ `?key=value` çš„å½¢å¼é™„åŠ åœ¨ URL åã€‚
    
3. **å“ˆå¸Œå‚æ•°ï¼ˆHash Parametersï¼‰**  
    è·¯å¾„ä¸­ä»¥ `#` å¼€å¤´çš„éƒ¨åˆ†ï¼Œç”¨äºå®šä½é¡µé¢ä¸­çš„ç‰¹å®šå…ƒç´ ã€‚
    

---

### **2. è·¯å¾„å‚æ•°**

#### **2.1 å®šä¹‰è·¯å¾„å‚æ•°**

åœ¨è·¯ç”±è§„åˆ™ä¸­ï¼Œé€šè¿‡ `:` å®šä¹‰åŠ¨æ€è·¯å¾„å‚æ•°ã€‚ä¾‹å¦‚ï¼š

```javascript
const routes = [
  {
    path: '/user/:id',
    name: 'User',
    component: User
  }
];
```

- `:id` æ˜¯ä¸€ä¸ªå ä½ç¬¦ï¼Œè¡¨ç¤ºè·¯å¾„ä¸­çš„åŠ¨æ€éƒ¨åˆ†ã€‚
- URL `/user/123` ä¼šåŒ¹é…è¿™ä¸ªè·¯ç”±ï¼Œ`id` çš„å€¼ä¸º `123`ã€‚

#### **2.2 è·å–è·¯å¾„å‚æ•°**

åœ¨åŒ¹é…çš„ç»„ä»¶ä¸­ï¼Œå¯ä»¥é€šè¿‡ `$route.params` è·å–è·¯å¾„å‚æ•°ï¼š

```vue
<template>
  <div>
    <h1>User ID: {{ id }}</h1>
  </div>
</template>

<script>
export default {
  data() {
	  return {
	  	id: this.$route.params.id;
	  }
  }
};
</script>
```

#### **2.3 å£°æ˜å¼å¯¼èˆªä¼ é€’å‚æ•°**

ä½¿ç”¨ `<router-link>` é…åˆå¯¹è±¡å½¢å¼ä¼ é€’è·¯å¾„å‚æ•°ï¼š

```vue
<template>
  <router-link :to="{ name: 'User', params: { id: 123 } }">Go to User 123</router-link>
</template>
```
åœ¨è¿™é‡Œå‘é€çš„è·¯ç”±å‚æ•°å¯ä»¥æ¥å—ä½œä¸ºé“¾æ¥åˆ°çš„åœ°æ–¹ä¸­çš„ propä½†å¿…é¡»åšä¸€ä»¶äº‹ï¼Œé‚£å°±æ˜¯åœ¨è¿™ä¸ªç»„ä»¶çš„è·¯ç”±ä¸­æ·»åŠ ä¸€ä¸ª props å±æ€§å¹¶å°†å…¶è®¾ç½®ä¸º true
```js
const routes = [
  {
    path: '/user/:id',
    name: 'User',
    component: User,
    props: true,
  }
];
```
#### **æ³¨æ„äº‹é¡¹**

- å½“ä½¿ç”¨å‘½åè·¯ç”±ä¼ é€’å‚æ•°æ—¶ï¼Œè·¯å¾„å‚æ•°ä¸èƒ½å•ç‹¬ä¸ `path` ä¸€èµ·ä½¿ç”¨ï¼Œä¾‹å¦‚ï¼š
    
    ```javascript
    this.$router.push({ path: '/user', params: { id: 123 } }); // æ— æ•ˆ
    ```
    
    å¿…é¡»ä½¿ç”¨å‘½åè·¯ç”±ï¼š
    
    ```javascript
    this.$router.push({ name: 'User', params: { id: 123 } }); // æœ‰æ•ˆ
    ```
    

---

### **3. æŸ¥è¯¢å‚æ•°**

#### **3.1 å®šä¹‰æŸ¥è¯¢å‚æ•°**

æŸ¥è¯¢å‚æ•°æ— éœ€åœ¨è·¯ç”±è§„åˆ™ä¸­æ˜¾å¼å®šä¹‰ï¼Œå¯ä»¥åœ¨ä»»ä½•è·¯ç”±ä¸­é™„åŠ ã€‚ä¾‹å¦‚ï¼š

```javascript
this.$router.push({ name: 'Search', query: { q: 'Vue', page: 2 } });
```

URL å°†ç”Ÿæˆï¼š`/search?q=Vue&page=2`

#### **3.2 è·å–æŸ¥è¯¢å‚æ•°**

åœ¨åŒ¹é…çš„ç»„ä»¶ä¸­ï¼Œå¯ä»¥é€šè¿‡ `$route.query` è·å–ï¼š

```vue
<template>
  <div>
    <h1>Search Query: {{ query }}</h1>
    <h2>Page: {{ page }}</h2>
  </div>
</template>

<script>
export default {
  computed: {
    query() {
      return this.$route.query.q; // è·å–æŸ¥è¯¢å‚æ•° q
    },
    page() {
      return this.$route.query.page; // è·å–æŸ¥è¯¢å‚æ•° page
    }
  }
};
</script>
```

#### **3.3 å£°æ˜å¼å¯¼èˆªä¼ é€’æŸ¥è¯¢å‚æ•°**

ä½¿ç”¨ `<router-link>` ä¼ é€’æŸ¥è¯¢å‚æ•°ï¼š

```vue
<template>
  <router-link :to="{ name: 'Search', query: { q: 'Vue', page: 2 } }">
    Search Vue
  </router-link>
</template>
```

---

### **4. å“ˆå¸Œå‚æ•°**

#### **4.1 å®šä¹‰å“ˆå¸Œå‚æ•°**

å“ˆå¸Œå‚æ•°é€šå¸¸ç”¨äºå®šä½é¡µé¢ä¸­çš„ç‰¹å®šä½ç½®ã€‚ä¾‹å¦‚ï¼š

```javascript
this.$router.push({ path: '/about', hash: '#team' });
```

URL å°†ç”Ÿæˆï¼š`/about#team`

#### **4.2 è·å–å“ˆå¸Œå‚æ•°**

åœ¨åŒ¹é…çš„ç»„ä»¶ä¸­ï¼Œå¯ä»¥é€šè¿‡ `$route.hash` è·å–ï¼š

```vue
<template>
  <div>
    <h1>Current Hash: {{ currentHash }}</h1>
  </div>
</template>

<script>
export default {
  computed: {
    currentHash() {
      return this.$route.hash; // è·å–å“ˆå¸Œå‚æ•°
    }
  }
};
</script>
```

#### **4.3 ä½¿ç”¨ `<router-link>` å®šä¹‰å“ˆå¸Œå¯¼èˆª**

```vue
<template>
  <router-link :to="{ path: '/about', hash: '#team' }">Go to Team Section</router-link>
</template>
```

é¡µé¢åŠ è½½åï¼Œæµè§ˆå™¨ä¼šè‡ªåŠ¨æ»šåŠ¨åˆ°å…·æœ‰ `id="team"` çš„å…ƒç´ ã€‚

---

### **5. å‚æ•°åŒ¹é…çš„ç»†èŠ‚**

#### **5.1 å¤šä¸ªåŠ¨æ€è·¯å¾„å‚æ•°**

å¯ä»¥å®šä¹‰å¤šä¸ªåŠ¨æ€å‚æ•°ï¼š

```javascript
const routes = [
  {
    path: '/user/:id/post/:postId',
    name: 'UserPost',
    component: UserPost
  }
];
```

#### **ç¤ºä¾‹ URLï¼š**

`/user/123/post/456`

#### **è·å–å‚æ•°ï¼š**

```javascript
this.$route.params.id; // 123
this.$route.params.postId; // 456
```

---

#### **5.2 å¯é€‰å‚æ•°**

é€šè¿‡æ·»åŠ  `?`ï¼Œå®šä¹‰å¯é€‰çš„åŠ¨æ€å‚æ•°ï¼š

```javascript
const routes = [
  {
    path: '/user/:id/:extra?',
    name: 'UserOptional',
    component: UserOptional
  }
];
```

- URL `/user/123` å’Œ `/user/123/extraInfo` å‡å¯åŒ¹é…ã€‚

---

#### **5.3 åŒ¹é…ä»»æ„è·¯å¾„ï¼ˆé€šé…ç¬¦ï¼‰**

ä½¿ç”¨ `*` å®šä¹‰é€šé…ç¬¦ï¼ŒåŒ¹é…æ‰€æœ‰è·¯å¾„ï¼š

```javascript
const routes = [
  {
    path: '/:pathMatch(.*)*',
    name: 'NotFound',
    component: NotFound
  }
];
```

---

### **6. å‚æ•°çš„æ€»ç»“**

|**ç±»å‹**|**å®šä¹‰ä½ç½®**|**è·å–æ–¹å¼**|**ç¤ºä¾‹ URL**|
|---|---|---|---|
|**è·¯å¾„å‚æ•°**|è·¯ç”±è§„åˆ™ä¸­ä½¿ç”¨ `:` å®šä¹‰|`$route.params`|`/user/123`|
|**æŸ¥è¯¢å‚æ•°**|è·¯ç”±è§„åˆ™ä¸­ä¸éœ€è¦å®šä¹‰|`$route.query`|`/search?q=Vue&page=2`|
|**å“ˆå¸Œå‚æ•°**|è·¯ç”±è§„åˆ™ä¸­ä¸éœ€è¦å®šä¹‰|`$route.hash`|`/about#team`|

åŠ¨æ€å‚æ•°ä½¿å¾— Vue Router çµæ´»é€‚åº”å„ç§éœ€æ±‚ï¼ŒåŒ…æ‹¬é¡µé¢åŠ¨æ€æ¸²æŸ“ã€æ¡ä»¶ç­›é€‰å’Œæ·±åº¦é“¾æ¥ã€‚é€šè¿‡åˆç†è¿ç”¨è·¯å¾„å‚æ•°ã€æŸ¥è¯¢å‚æ•°å’Œå“ˆå¸Œå‚æ•°ï¼Œå¯ä»¥å®ç°å¤æ‚çš„è·¯ç”±åŠŸèƒ½ã€‚



# **Vue Router è·¯ç”±å‚æ•°ï¼ˆRoute Parametersï¼‰è¯¦è§£**

åœ¨ Vue Router ä¸­ï¼Œ**è·¯ç”±å‚æ•°ï¼ˆRoute Parametersï¼‰** å…è®¸æˆ‘ä»¬åœ¨è·¯ç”±è·¯å¾„ä¸­å®šä¹‰**åŠ¨æ€å‚æ•°**ï¼Œä½¿ç›¸åŒçš„è·¯ç”±åŒ¹é…ä¸åŒçš„ URLï¼Œå¹¶åœ¨ç»„ä»¶ä¸­è·å–å‚æ•°å€¼ã€‚

---

## **1. å®šä¹‰åŠ¨æ€è·¯ç”±å‚æ•°**

åœ¨ Vue Router ä¸­ï¼Œä½¿ç”¨ `:` è¯­æ³•å®šä¹‰è·¯ç”±å‚æ•°ï¼š

```js
import { createRouter, createWebHistory } from 'vue-router';
import User from '@/components/User.vue';

const routes = [
  { path: '/user/:id', component: User }
];

const router = createRouter({
  history: createWebHistory(),
  routes
});

export default router;
```

### **ğŸ“Œ è§£æ**

- `path: '/user/:id'` â€”â€” `:id` æ˜¯åŠ¨æ€å‚æ•°ï¼ŒåŒ¹é… `/user/123`ã€`/user/456` ç­‰è·¯å¾„ã€‚
- è®¿é—® `/user/1`ï¼Œ`id` çš„å€¼ä¸º `1`ï¼Œè®¿é—® `/user/2`ï¼Œ`id` çš„å€¼ä¸º `2`ã€‚

---

## **2. åœ¨ç»„ä»¶ä¸­è·å–è·¯ç”±å‚æ•°**

Vue Router æä¾› `useRoute()` ç»„åˆå¼ API è·å–å½“å‰è·¯ç”±å‚æ•°ã€‚

### **ç¤ºä¾‹ï¼šè·å– `id` å‚æ•°**

```vue
<script setup>
import { useRoute } from 'vue';

const route = useRoute();
console.log(route.params.id); // è·å– URL å‚æ•°
</script>
```

**ğŸ“Œ è§£æ**

- `route.params.id` è·å– URL åŠ¨æ€å‚æ•°ï¼Œå¦‚ `/user/123` æ—¶ `id = 123`ã€‚

---

## **3. å“åº”å¼ç›‘å¬è·¯ç”±å‚æ•°**

å½“**è·¯ç”±å‚æ•°å˜åŒ–**æ—¶ï¼Œç»„ä»¶ä¸ä¼šé‡æ–°åŠ è½½ï¼Œé»˜è®¤æƒ…å†µä¸‹ `setup()` ä¸ä¼šé‡æ–°æ‰§è¡Œã€‚å› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦ç›‘å¬å‚æ•°å˜åŒ–ã€‚

### **ä½¿ç”¨ `watch()` ç›‘å¬å‚æ•°**

```vue
<script setup>
import { useRoute } from 'vue';
import { watch } from 'vue';

const route = useRoute();

// ç›‘å¬ id å˜åŒ–
watch(() => route.params.id, (newId, oldId) => {
  console.log(`id ä» ${oldId} å˜æˆ ${newId}`);
});
</script>
```

### **ğŸ“Œ è§£æ**

- å½“ URL ä» `/user/1` å˜ä¸º `/user/2`ï¼Œ`watch()` ä¼šè§¦å‘å›è°ƒã€‚

---

## **4. å¤šä¸ªå‚æ•°**

å¦‚æœè·¯å¾„åŒ…å«å¤šä¸ªå‚æ•°ï¼Œå¦‚ï¼š

```js
{ path: '/user/:id/:name', component: User }
```

è®¿é—® `/user/123/john`ï¼š

```vue
console.log(route.params.id);   // "123"
console.log(route.params.name); // "john"
```

---

## **5. å¯é€‰å‚æ•°**

Vue Router æ”¯æŒ**å¯é€‰å‚æ•°**ï¼Œåœ¨å‚æ•°ååŠ  `?`ï¼š

```js
{ path: '/user/:id/:name?', component: User }
```

- `/user/123` âœ…ï¼ˆåŒ¹é… `id=123`ï¼Œ`name` ä¸ºç©ºï¼‰
- `/user/123/john` âœ…ï¼ˆåŒ¹é… `id=123`ï¼Œ`name=john`ï¼‰

---

## **6. æ­£åˆ™åŒ¹é…å‚æ•°**

å¯ä»¥ä½¿ç”¨**è‡ªå®šä¹‰æ­£åˆ™è¡¨è¾¾å¼**ï¼Œä¾‹å¦‚ï¼š

```js
{ path: '/user/:id(\\d+)', component: User }
```

- `/user/123` âœ…ï¼ˆåŒ¹é…ï¼‰
- `/user/abc` âŒï¼ˆä¸åŒ¹é…ï¼‰

---

## **7. ä¼ é€’å‚æ•°çš„æ–¹å¼**

### **æ–¹æ³• 1ï¼š`router-link` æ–¹å¼**

```vue
<router-link :to="'/user/' + userId">ç”¨æˆ·è¯¦æƒ…</router-link>
```

ç­‰æ•ˆäºï¼š

```vue
<router-link :to="{ path: '/user/' + userId }">ç”¨æˆ·è¯¦æƒ…</router-link>
```

### **æ–¹æ³• 2ï¼š`params` æ–¹å¼**

```vue
<router-link :to="{ name: 'User', params: { id: 123 }}">ç”¨æˆ·è¯¦æƒ…</router-link>
```

**ğŸ“Œ æ³¨æ„**

- `params` æ–¹å¼**å¿…é¡»ä½¿ç”¨ `name`**ï¼Œå¦åˆ™ Vue Router ä¸ä¼šæ­£ç¡®è§£æè·¯å¾„ã€‚

---

## **8. ç¼–ç¨‹å¼å¯¼èˆª**

ä½¿ç”¨ `router.push()` **åŠ¨æ€è·³è½¬**ï¼š

```vue
<script setup>
import { useRouter } from 'vue';

const router = useRouter();
const goToUser = (id) => {
  router.push({ name: 'User', params: { id } });
};
</script>
```

---

## **æ€»ç»“**

|åŠŸèƒ½|è¯­æ³•|
|---|---|
|**å®šä¹‰åŠ¨æ€å‚æ•°**|`path: '/user/:id'`|
|**è·å–å‚æ•°**|`route.params.id`|
|**ç›‘å¬å‚æ•°å˜åŒ–**|`watch(() => route.params.id, callback)`|
|**å¤šä¸ªå‚æ•°**|`path: '/user/:id/:name'`|
|**å¯é€‰å‚æ•°**|`path: '/user/:id/:name?'`|
|**æ­£åˆ™åŒ¹é…**|`path: '/user/:id(\\d+)'`|
|**è·¯ç”±è·³è½¬**|`<router-link :to="{ name: 'User', params: { id: 123 }}">`|

ğŸš€ **æŒæ¡è¿™äº›è·¯ç”±å‚æ•°ç”¨æ³•ï¼Œå¯ä»¥è®©ä½ çš„ Vue 3 åº”ç”¨æ›´åŠ çµæ´»ï¼**