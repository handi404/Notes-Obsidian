一步步搞定 TypeScript 的基础安装和编译。这非常简单！

**前提条件：你需要 Node.js 和 npm (或 yarn)**

TypeScript 编译器本身是用 JavaScript 写的，并且通常通过 npm（Node Package Manager，Node.js 自带的包管理器）来安装和管理。

1.  **检查是否已安装 Node.js 和 npm：**
    打开你的终端（命令行工具，如 Terminal、cmd、PowerShell 或 Git Bash），输入以下命令：
    ```bash
    node -v
    npm -v
    ```
    如果它们显示了版本号（例如 `v18.18.0` 和 `9.8.1`），说明你已经安装好了。如果没有，请先去 [Node.js 官网](https://nodejs.org/) 下载并安装 LTS（长期支持）版本，npm 会随之一起安装。

**安装 TypeScript**

你有两种主要的安装方式：

1.  **全局安装 (Global Installation)**
    *   **命令:**
        ```bash
        npm install -g typescript
        ```
        或者使用 yarn:
        ```bash
        yarn global add typescript
        ```
    *   **作用:** 这会在你的系统中全局安装 `tsc` 命令（TypeScript Compiler）。你可以在任何目录下直接使用 `tsc` 命令。
    *   **优点:** 方便快速尝试或在多个不相关的项目中使用统一版本。
    *   **缺点:** 不利于项目间的版本隔离。如果不同项目依赖不同版本的 TypeScript，全局安装可能会导致问题。**通常不推荐用于实际项目开发。**

2.  **本地安装 (Local Installation) - 推荐用于项目**
    *   **进入你的项目目录:**
        ```bash
        cd /path/to/your/project
        # 如果是新项目，先初始化 npm 项目
        npm init -y
        ```
    *   **命令:**
        ```bash
        npm install typescript --save-dev
        ```
        或者使用 yarn:
        ```bash
        yarn add typescript --dev
        ```
    *   **作用:** 这会将 TypeScript 安装为项目的**开发依赖**（dev dependency），记录在 `package.json` 文件中。`tsc` 命令的可执行文件位于 `./node_modules/.bin/` 目录下。
    *   **优点:**
        *   **项目隔离:** 每个项目可以依赖特定版本的 TypeScript，互不干扰。
        *   **协作一致:** 其他开发者或 CI/CD 环境可以通过 `npm install` 或 `yarn install` 安装完全相同版本的 TypeScript，保证编译环境一致。
    *   **使用本地安装的 `tsc`:**
        *   **方法一 (推荐):** 使用 `npx` (npm 自带的包执行器)
            ```bash
            npx tsc --version  # 检查版本或执行编译
            ```
        *   **方法二:** 在 `package.json` 的 `scripts` 中定义命令
            ```json
            // package.json
            {
              "name": "my-ts-project",
              "version": "1.0.0",
              "scripts": {
                "build": "tsc", // 这里可以直接写 tsc，npm 会自动查找本地 node_modules/.bin
                "start": "node dist/index.js" // 假设编译到 dist 目录
              },
              "devDependencies": {
                "typescript": "^5.3.3" // 版本号可能不同
              }
            }
            ```
            然后通过 `npm run build` 来执行编译。

**验证安装**

无论哪种安装方式，你都可以通过以下命令（根据情况选择是否加 `npx`）检查 TypeScript 编译器 `tsc` 是否安装成功并查看版本：

```bash
# 如果是全局安装 或 在配置了 script 的项目下运行 npm run
tsc --version

# 如果是本地安装，在项目根目录运行
npx tsc --version
```
如果输出了版本号（例如 `Version 5.3.3`），说明安装成功。

**基础编译**

现在我们来写一个简单的 TypeScript 文件并编译它。

1.  **创建 TypeScript 文件:**
    在你的项目目录下创建一个名为 `hello.ts` 的文件，内容如下：

    ```typescript
    // hello.ts
    function greet(person: string, date: Date) {
      console.log(`Hello ${person}, today is ${date.toLocaleDateString()}!`);
    }

    greet("Developer", new Date());

    // 试试加一个类型错误，看看会发生什么
    // greet(123, new Date()); // 取消这行注释会报错
    ```
    注意 `: string` 和 `: Date`，这就是 TypeScript 的类型注解。

2.  **编译 TypeScript 文件:**
    在终端中，确保你在 `hello.ts` 文件所在的目录下，然后运行编译命令：

    ```bash
    # 如果是全局安装 或 使用了 npx (推荐用于本地安装)
    npx tsc hello.ts

    # 如果在 package.json 中配置了 build 脚本指向 tsc 且当前只想编译单个文件（不常用）
    # npm run build -- hello.ts
    ```

3.  **查看结果:**
    编译成功后，你会发现在同一目录下生成了一个名为 `hello.js` 的 JavaScript 文件。它的内容大概是这样的（具体可能因你的 TS 配置或版本略有不同）：

    ```javascript
    // hello.js
    "use strict";
    function greet(person, date) {
        console.log("Hello ".concat(person, ", today is ").concat(date.toLocaleDateString(), "!"));
    }
    greet("Developer", new Date());
    // greet(123, new Date()); // 类型错误在编译时就被捕获了，不会出现在 JS 文件中（除非配置允许）
    ```
    你会发现类型注解 (`: string`, `: Date`) 消失了，因为浏览器和 Node.js 只认识 JavaScript。TypeScript 编译器的主要工作之一就是**擦除类型**并转换语法（如果需要的话）。

4.  **运行 JavaScript 文件:**
    现在你可以像运行普通 JavaScript 文件一样运行编译后的 `hello.js`：
    ```bash
    node hello.js
    ```
    你应该能在控制台看到输出： `Hello Developer, today is [当前日期]!`

**要点回顾:**

*   **安装:** 通过 `npm install typescript --save-dev` (本地，推荐) 或 `npm install -g typescript` (全局)。
*   **编译:** 使用 `tsc` 命令。对于单个文件，`npx tsc yourfile.ts`。对于整个项目，通常会配置 `tsconfig.json` 文件，然后直接运行 `npx tsc` 进行编译。
*   **结果:** TypeScript (`.ts`) 文件被编译成 JavaScript (`.js`) 文件，类型信息被擦除。
*   **运行:** 运行编译后的 `.js` 文件。

这就是 TypeScript 最基础的安装和编译流程！对于实际项目，我们通常会创建一个 `tsconfig.json` 文件来配置编译选项（比如编译目标版本、输出目录、模块系统等），这样只需要运行 `npx tsc` 就能编译整个项目。这个我们可以在后面再详细讲。