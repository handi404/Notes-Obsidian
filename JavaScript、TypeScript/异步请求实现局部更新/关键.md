理解异步请求如何实现局部更新的关键在于明白前端JavaScript代码是如何与HTML DOM（文档对象模型）交互的。当一个异步请求完成并收到服务器响应后，JavaScript可以使用DOM操作来动态地更新页面的特定部分，而不是整个页面。下面我将详细解释这个过程，并提供具体的例子帮助你更好地理解。

### 异步请求与局部更新的工作流程

1. **用户触发事件**：用户执行某些操作（例如点击按钮、选择选项等），或者根据定时器触发。
2. **发起异步请求**：JavaScript代码通过`XMLHttpRequest`或`fetch API`向服务器发送异步请求。
3. **服务器处理请求**：服务器接收到请求后进行处理，并生成响应数据（通常是JSON格式的数据）。
4. **接收响应**：一旦服务器准备好响应，它会将数据返回给客户端。由于是异步请求，浏览器不会阻塞，用户可以继续与页面互动。
5. **解析响应数据**：客户端JavaScript代码接收到响应后，解析返回的数据（例如从JSON字符串转换为JavaScript对象）。
6. **更新DOM**：JavaScript代码使用DOM API（如`document.getElementById`、`querySelector`等）找到需要更新的页面元素，并修改这些元素的内容或属性。这一步实现了页面的局部更新。

### 具体示例

假设我们有一个简单的Web页面，其中包含一个显示当前时间的部分。我们希望每秒更新一次时间，而不刷新整个页面。

#### HTML 结构

```html
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>异步请求局部更新示例</title>
</head>
<body>
    <h1>当前时间:</h1>
    <div id="time"></div>

    <script src="app.js"></script>
</body>
</html>
```

#### JavaScript (app.js)

```javascript
function updateTime() {
    // 发起异步请求获取当前时间
    fetch('/api/time') // 假设服务器提供了一个API来获取当前时间
        .then(response => response.json()) // 将响应转换为JSON
        .then(data => {
            // 更新页面中的时间显示
            document.getElementById('time').textContent = data.time;
        })
        .catch(error => console.error('Error:', error));
}

// 每秒调用一次updateTime函数来更新时间
setInterval(updateTime, 1000);

// 页面加载时立即更新一次时间
window.onload = updateTime;
```

#### 服务器端（假设使用Node.js和Express）

```javascript
const express = require('express');
const app = express();

app.get('/api/time', (req, res) => {
    // 返回当前时间作为JSON响应
    res.json({ time: new Date().toLocaleTimeString() });
});

app.use(express.static('public')); // 假设静态文件在public目录下

app.listen(3000, () => console.log('Server is running on port 3000'));
```

### 解释

在这个例子中：

- 当页面加载时，`updateTime` 函数被调用一次以初始化时间显示。
- 然后，每隔一秒 `setInterval` 会再次调用 `updateTime` 函数。
- `updateTime` 函数使用 `fetch` 向 `/api/time` 发送异步请求。
- 服务器接收到请求后，返回当前时间作为JSON响应。
- 客户端接收到响应后，解析JSON数据，并使用 `document.getElementById('time').textContent = data.time;` 更新页面上 `<div id="time">` 的内容。
- 因为只更新了页面的一部分（即`<div id="time">`的内容），所以页面的其他部分保持不变，实现了局部更新。

### 关键点总结

- **异步请求**：允许网页在不重新加载的情况下与服务器通信。
- **DOM操作**：JavaScript可以通过DOM API精确地定位并修改页面上的元素。
- **局部更新**：通过结合异步请求和DOM操作，可以在不重载整个页面的前提下，动态更新页面的特定部分。