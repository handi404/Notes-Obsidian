在 Nuxt（即 Vue 3）里，“动态插槽”主要指根据运行时数据决定插槽名或插槽组件，从而实现更灵活的组件化布局与内容分发。下面分几种典型场景来讲解。

---

## 1. 动态命名插槽

Vue 3 支持通过方括号语法在父组件里动态绑定插槽名。

```vue
<!-- Parent.vue -->
<template>
  <MyWrapper>
    <!-- 根据 slotName 变量来决定要渲染哪个插槽 -->
    <template v-slot:[slotName]>
      插槽 “{{ slotName }}” 的内容
    </template>
  </MyWrapper>
</template>

<script setup>
import { ref } from 'vue'
const slotName = ref('header')      // 可以是 'header'、'footer'、'default' 等
</script>
```

```vue
<!-- MyWrapper.vue -->
<template>
  <div class="wrapper">
    <header>
      <!-- header 插槽，若父组件没提供则使用 fallback -->
      <slot name="header">默认头部</slot>
    </header>
    <main>
      <!-- default 插槽 -->
      <slot>默认主体</slot>
    </main>
    <footer>
      <!-- footer 插槽，无内容时不渲染 -->
      <slot name="footer" v-if="$slots.footer"></slot>
    </footer>
  </div>
</template>
```

> ✔️ 关键点
> 
> - 在父组件 `<template v-slot:[slotName]>` 使用方括号将绑定的字符串当作插槽名。
>     
> - `slotName` 的值可以来自 `props`、`computed`、`ref`，甚至从后端接口加载。
>     

---

## 2. 动态渲染带插槽的组件

有时我们并不知道要渲染哪种子组件，而这些子组件又定义了自己的插槽。这时可以配合 `<component :is="">` 和插槽展开（`v-slots`）来动态传递内容。

```vue
<!-- DynamicHost.vue -->
<template>
  <component
    :is="currentComponent"
    v-slots="{
      header: () => <h1>我是动态头部</h1>,
      default: () => <p>我是动态主体</p>
    }"
  />
</template>

<script setup>
import AComponent from './AComponent.vue'
import BComponent from './BComponent.vue'
import { ref } from 'vue'

const currentComponent = ref('AComponent') // 或 'BComponent'
const components = { AComponent, BComponent }
</script>
```

这里 `v-slots` 接收一个对象，键名对应子组件里定义的插槽名称，值为渲染函数。

---

## 3. 动态插槽内容与作用域插槽

如果子组件插槽会传递 props 给父级，父级也能动态决定如何渲染：

```vue
<!-- List.vue -->
<template>
  <ul>
    <li v-for="item in items" :key="item.id">
      <!-- default 作用域插槽，传出 item -->
      <slot :item="item">
        <!-- fallback 渲染 -->
        {{ item.text }}
      </slot>
    </li>
  </ul>
</template>

<script setup>
defineProps<{ items: Array<{ id: number; text: string }> }>()
</script>
```

```vue
<!-- Parent.vue -->
<template>
  <List :items="todos">
    <!-- 根据 viewMode 决定渲染函数 -->
    <template v-slot="{ item }">
      <component :is="viewMode === 'card' ? CardView : LineView" :data="item" />
    </template>
  </List>
</template>

<script setup>
import { ref } from 'vue'
import List from './List.vue'
import CardView from './CardView.vue'
import LineView from './LineView.vue'

const viewMode = ref<'card'|'line'>('card')
const todos = [
  { id: 1, text: '买菜' },
  { id: 2, text: '写代码' }
]
</script>
```

> ✔️ 这里父组件在同一个插槽里，根据 `viewMode` 动态选用不同组件来渲染每一项。

---

## 4. 小结

1. **动态插槽名**：`<template v-slot:[dynamicName]>…</template>`
    
2. **动态组件＋插槽展开**：`<component :is="…" v-slots="{…}" />`
    
3. **动态渲染作用域插槽内容**：在默认插槽里使用 `<component :is="…">` 或三元表达式切换。
    

掌握以上技术，就能在 Nuxt/Vue 3 项目里，根据运行时数据灵活地分发和渲染模板。若有具体业务场景或进阶问题，欢迎继续交流！