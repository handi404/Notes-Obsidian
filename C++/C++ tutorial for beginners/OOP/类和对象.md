```cpp
#include <iostream>

class Car{
    public:
        std::string make;
        std::string model;
        int year;
        std::string color;

        void accelerate(){
            std::cout << "You step on the gas!\n";
        }
        void brake(){
            std::cout << "You step on the brakes!\n";
        }
};
int main() {

    Car car1;

    car1.make = "Ford";
    car1.model = "Mustang";
    car1.year = 2023;
    car1.color = "silver";

    std::cout << car1.make << '\n';
    std::cout << car1.model << '\n';
    std::cout << car1.year << '\n';
    std::cout << car1.color << '\n';

    car1.accelerate();
    car1.brake();

    return 0;
}
```

在 C++中，类（class）和对象（object）是面向对象编程（OOP）的核心概念。类是一个数据结构，它定义了一组属性和方法，而对象是类的实例。通过类和对象，C++提供了封装、继承和多态性等 OOP 特性。

### 定义类

类的定义通常包含数据成员（属性）和成员函数（方法）。以下是一个简单的类定义示例：

```cpp
#include <iostream>

// 定义一个表示矩形的类
class Rectangle {
private:
    double width;
    double height;

public:
    // 构造函数
    Rectangle(double w, double h) : width(w), height(h) {}

    // 成员函数，用于计算面积
    double area() {
        return width * height;
    }

    // 成员函数，用于计算周长
    double perimeter() {
        return 2 * (width + height);
    }

    // 成员函数，用于显示矩形的宽度和高度
    void display() {
        std::cout << "Width: " << width << ", Height: " << height << std::endl;
    }
};

int main() {
    // 创建类的对象
    Rectangle rect(10.0, 5.0);
    rect.display(); // 输出宽度和高度
    std::cout << "Area: " << rect.area() << std::endl; // 输出面积
    std::cout << "Perimeter: " << rect.perimeter() << std::endl; // 输出周长

    return 0;
}
```

### 访问控制

类中的成员可以有不同的访问控制权限：

- `public`: 公有成员，可以被任何代码访问。
- `private`: 私有成员，只能被类的成员函数和友元函数访问。
- `protected`: 受保护成员，可以被类的成员函数、友元函数以及派生类访问。

### 构造函数和析构函数

构造函数用于初始化对象，析构函数用于在对象销毁时执行清理工作。构造函数的名称与类名相同，没有返回类型；析构函数的名称与类名相同，但前面有一个波浪号（~），也没有返回类型。

```cpp
#include <iostream>

class Rectangle {
private:
    double width;
    double height;

public:
    // 默认构造函数
    Rectangle() : width(0), height(0) {
        std::cout << "Default constructor called" << std::endl;
    }

    // 参数化构造函数
    Rectangle(double w, double h) : width(w), height(h) {
        std::cout << "Parameterized constructor called" << std::endl;
    }

    // 析构函数
    ~Rectangle() {
        std::cout << "Destructor called" << std::endl;
    }

    double area() {
        return width * height;
    }
};

int main() {
    {
        Rectangle rect1; // 调用默认构造函数
        Rectangle rect2(10.0, 5.0); // 调用参数化构造函数
        std::cout << "Area of rect2: " << rect2.area() << std::endl;
    } // 离开作用域，析构函数被调用

    return 0;
}
```

### This 指针

在类的成员函数中，`this` 指针指向调用该函数的对象。它是一个隐含参数，可以在成员函数内部使用。

```cpp
#include <iostream>

class Rectangle {
private:
    double width;
    double height;

public:
    Rectangle(double w, double h) : width(w), height(h) {}

    void setWidth(double w) {
        this->width = w;
    }

    void setHeight(double h) {
        this->height = h;
    }

    double area() const {
        return this->width * this->height;
    }
};

int main() {
    Rectangle rect(10.0, 5.0);
    rect.setWidth(15.0);
    std::cout << "Area: " << rect.area() << std::endl;

    return 0;
}
```

### 静态成员

类可以包含静态数据成员和静态成员函数。静态成员属于类而不是某个对象，可以通过类名直接访问。

```cpp
#include <iostream>

class Counter {
private:
    static int count;

public:
    Counter() {
        count++;
    }

    static int getCount() {
        return count;
    }
};

// 定义静态数据成员
int Counter::count = 0;

int main() {
    Counter c1;
    Counter c2;
    std::cout << "Number of objects created: " << Counter::getCount() << std::endl;

    return 0;
}
```

### 继承

继承允许你创建一个基类（base class）并基于它定义一个或多个派生类（derived class）。派生类继承了基类的所有数据成员和成员函数，可以新增成员，也可以重载基类成员。

```cpp
#include <iostream>

// 定义基类
class Shape {
public:
    void setWidth(double w) {
        width = w;
    }

    void setHeight(double h) {
        height = h;
    }

protected:
    double width;
    double height;
};

// 定义派生类
class Rectangle : public Shape {
public:
    double area() {
        return width * height;
    }
};

int main() {
    Rectangle rect;
    rect.setWidth(10.0);
    rect.setHeight(5.0);
    std::cout << "Area: " << rect.area() << std::endl;

    return 0;
}
```

### 多态性

多态性允许你通过基类指针或引用调用派生类的成员函数。C++支持两种多态性：编译时多态性（通过函数重载和模板实现）和运行时多态性（通过虚函数实现）。

#### 运行时多态性

通过将基类的成员函数声明为虚函数，可以实现运行时多态性：

```cpp
#include <iostream>

class Shape {
public:
    virtual double area() const = 0; // 纯虚函数，定义为抽象类

    virtual ~Shape() {}
};

class Rectangle : public Shape {
public:
    Rectangle(double w, double h) : width(w), height(h) {}

    double area() const override {
        return width * height;
    }

private:
    double width;
    double height;
};

class Circle : public Shape {
public:
    Circle(double r) : radius(r) {}

    double area() const override {
        return 3.14159 * radius * radius;
    }

private:
    double radius;
};

int main() {
    Shape* shape1 = new Rectangle(10.0, 5.0);
    Shape* shape2 = new Circle(7.0);

    std::cout << "Area of rectangle: " << shape1->area() << std::endl;
    std::cout << "Area of circle: " << shape2->area() << std::endl;

    delete shape1;
    delete shape2;

    return 0;
}
```

### 总结

C++中的类和对象是面向对象编程的基础。通过类和对象，你可以实现数据和操作的封装，提高代码的可重用性和可维护性。继承和多态性提供了强大的扩展机制，使得代码更加灵活和高效。理解和掌握类和对象的使用是学习 C++编程的关键。