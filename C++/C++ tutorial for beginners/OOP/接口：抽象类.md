## C++ 接口：抽象类的概念与实现

### 什么是 C++ 接口？

在 C++ 中，严格意义上来说没有像 Java 或 C# 那样独立的接口类型。我们通常使用 **抽象类** 来模拟接口的概念。

**抽象类** 是一个特殊的类，它包含至少一个纯虚函数。纯虚函数是一个没有函数体的虚函数，它的声明后面用 `= 0` 来表示。

```C++
class Shape {
public:
    virtual void draw() = 0; // 纯虚函数
    virtual int getArea() = 0;
};
```

### 抽象类的特点

- **不能被实例化：** 由于包含纯虚函数，抽象类不能直接创建对象。
- **作为基类：** 抽象类主要用来被继承，派生类必须实现基类的所有纯虚函数。
- **定义接口：** 抽象类定义了一组接口，即一组操作的集合，子类必须实现这些操作。

### 为什么使用抽象类？

- **多态性：** 抽象类是实现多态性的基础。通过基类指针或引用，可以指向不同子类的对象，调用不同的实现。
- **接口规范：** 定义了一组标准的接口，子类必须遵守，提高了代码的可维护性和可扩展性。
- **解耦：** 将接口与实现分离，降低了模块之间的耦合度。

### 抽象类与接口的区别（与其他语言对比）

- **C++：** 使用抽象类模拟接口。
- **Java、C#：** 有独立的接口关键字，接口只能包含方法声明，不能有成员变量。

### 抽象类的示例

```C++
#include <iostream>

class Shape {
public:
    virtual void draw() = 0;
    virtual int getArea() = 0;
};

class Circle : public Shape {
public:
    void draw() override {
        std::cout << "Drawing a circle" << std::endl;
    }
    int getArea() override {
        // ... 计算圆的面积
    }
};

class Rectangle : public Shape {
public:
    void draw() override {
        std::cout << "Drawing a rectangle" << std::endl;
    }
    int getArea() override {
        // ... 计算矩形的面积
    }
};

int main() {
    Shape* shape1 = new Circle();
    Shape* shape2 = new Rectangle();

    shape1->draw();
    shape2->draw();
}
```

### 总结

虽然 C++ 没有显式的接口关键字，但通过抽象类可以实现类似接口的功能。抽象类定义了一组接口，子类必须实现这些接口，从而实现了多态性。抽象类在面向对象编程中起着非常重要的作用，有助于提高代码的可维护性和可扩展性。

### 拓展知识

- **纯虚函数：** 必须在派生类中被重写。
- **虚函数表：** 编译器为每个包含虚函数的类生成一个虚函数表，用于实现动态绑定。
- **多态：** 是面向对象编程的核心概念之一，抽象类是实现多态性的重要手段。
- **接口隔离原则：** 一个类对另一个类应该依赖于最小的接口。