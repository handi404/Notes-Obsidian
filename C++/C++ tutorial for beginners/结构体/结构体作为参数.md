```cpp
#include <iostream>

struct Car{
    std::string model;
    int year;
    std::string color;
};

void printCar(Car &car);
void paintCar(Car &car, std::string color);

int main () {

    Car car1;
    Car car2;

    car1.model = "Mustang";
    car1.year = 2023;
    car1.color = "red";

    car2.model = "Corvette";
    car2.year = 2024;
    car2.color = "blue";

    paintCar(car1, "silver");
    paintCar(car2, "gold");

    printCar(car1);
    printCar(car2);

    return 0;
}
void printCar(Car &car){
    std::cout << car.model << '\n';
    std::cout << car.year << '\n';
    std::cout << car.color << '\n';
}
void paintCar(Car &car, std::string color){
    car.color = color;
}
```

## C++ 结构体作为函数参数

### 为什么使用结构体作为参数？

在 C++ 中，结构体是一种用户自定义的数据类型，可以用来封装一组相关的数据。当多个数据之间存在逻辑关系时，将它们组织成一个结构体，可以使代码更加清晰、模块化。将结构体作为函数参数，可以实现以下目的：

- **传递多个相关数据：** 可以一次性将多个数据传递给函数，减少函数参数的数量。
- **提高代码可读性：** 使用结构体可以更好地表达数据的含义，提高代码的可维护性。
- **避免使用全局变量：** 可以将数据封装在结构体中，减少全局变量的使用，提高代码的安全性。

### 传递结构体的方式

主要有三种方式：

1. **值传递:**
    - 将结构体的副本传递给函数。
    - 函数内对参数的修改不会影响原结构体。
    - 适用于结构体较小的情况，否则会造成性能开销。
2. **指针传递:**
    - 将结构体的地址传递给函数。
    - 函数内可以通过指针修改原结构体。
    - 适用于结构体较大或需要修改原结构体的情况。
3. **引用传递:**
    - 将结构体的引用传递给函数。
    - 函数内对参数的修改会影响原结构体。
    - 效率较高，适合频繁修改结构体的情况。

### 示例代码

```C++
#include <iostream>

struct Student {
    std::string name;
    int age;
    float score;
};

// 值传递
void printStudent1(Student st) {
    std::cout << st.name << " is " << st.age << " years old." << std::endl;
}

// 指针传递
void printStudent2(Student *st) {
    std::cout << st->name << " is " << st->age << " years old." << std::endl;
}

// 引用传递
void printStudent3(Student &st) {
    std::cout << st.name << " is " << st.age << " years old." << std::endl;
}

int main() {
    Student student = {"Alice", 20, 95.5};
    printStudent1(student);  // 值传递
    printStudent2(&student); // 指针传递
    printStudent3(student);  // 引用传递
    return 0;
}
```

### 选择合适的方式

- **值传递:** 当函数不需要修改结构体时，使用值传递比较简单。
- **指针传递:** 当函数需要修改结构体，或者结构体较大时，使用指针传递可以提高效率。
- **引用传递:** 当函数需要频繁修改结构体，并且希望函数调用者能够感知到这些修改时，使用引用传递比较合适。

### 注意事项

- **结构体的大小:** 对于较大的结构体，使用指针或引用传递可以避免不必要的复制，提高效率。
- **const 修饰符:** 如果函数不需要修改结构体，可以在函数参数前添加 `const` 修饰符，提高代码安全性。
- **函数返回值:** 可以将结构体作为函数的返回值，但需要注意返回值优化（Return Value Optimization，RVO）的规则。

### 总结

结构体作为函数参数是一种常用的编程技巧，可以使代码更加清晰、模块化。选择合适的方式传递结构体，可以提高程序的性能和可读性。