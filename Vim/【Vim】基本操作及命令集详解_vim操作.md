## 概述

> Vim 是从 vi 发展出来的一个文本编辑器。vi 内置在Linux系统中，是vim的简化版编辑器，vim则需要进行**[安装使用](https://so.csdn.net/so/search?spm=1001.2014.3001.4498&q=vim%E5%AE%89%E8%A3%85&t=&u= "安装使用")**。Vim代码补全、编译及错误跳转等方便编程的功能特别丰富，可以实现高效率移动和高效的输入，在程序员中被广泛使用。其真正的优势在于其可扩展性。 Vim有自己的脚本语言，称为Vim脚本（也称为vimscript或VimL），用户可以通过多种方式使用它来增强Vim，例如为其他编程语言启用语法高亮，自动化语法检查或将Vim与其他应用程序和服务。除了可扩展性之外，Vim还具有高度可配置性，包含Vim核心全局设置（称为[vimrc](https://so.csdn.net/so/search?q=vimrc&spm=1001.2101.3001.7020)）的文件可以在各个Vim安装之间共享。下面我来介绍一下Vim的基础操作和常用命令集。

**这是目录**

[概述](https://blog.csdn.net/weixin_62676865/article/details/128539076?spm=1001.2014.3001.5506#t1)

[预备知识（三种模式介绍）](https://blog.csdn.net/weixin_62676865/article/details/128539076?spm=1001.2014.3001.5506#t2)

 [vim的基本操作](https://blog.csdn.net/weixin_62676865/article/details/128539076?spm=1001.2014.3001.5506#t3)

[vim指令集](https://blog.csdn.net/weixin_62676865/article/details/128539076?spm=1001.2014.3001.5506#t4) 

[vim正常模式下命令集](https://blog.csdn.net/weixin_62676865/article/details/128539076?spm=1001.2014.3001.5506#t5)

[进入插入模式](https://blog.csdn.net/weixin_62676865/article/details/128539076?spm=1001.2014.3001.5506#t6)

 [移动光标](https://blog.csdn.net/weixin_62676865/article/details/128539076?spm=1001.2014.3001.5506#t7)

[注释代码](https://blog.csdn.net/weixin_62676865/article/details/128539076?spm=1001.2014.3001.5506#t8)

[删除文字](https://blog.csdn.net/weixin_62676865/article/details/128539076?spm=1001.2014.3001.5506#t9)

[复制](https://blog.csdn.net/weixin_62676865/article/details/128539076?spm=1001.2014.3001.5506#t10) 

[替换](https://blog.csdn.net/weixin_62676865/article/details/128539076?spm=1001.2014.3001.5506#t11) 

[跳至指定的行](https://blog.csdn.net/weixin_62676865/article/details/128539076?spm=1001.2014.3001.5506#t12) 

 [撤销上一次操作](https://blog.csdn.net/weixin_62676865/article/details/128539076?spm=1001.2014.3001.5506#t13)

 [更改内容](https://blog.csdn.net/weixin_62676865/article/details/128539076?spm=1001.2014.3001.5506#t14)

[vim底行模式下命令集](https://blog.csdn.net/weixin_62676865/article/details/128539076?spm=1001.2014.3001.5506#t15) 

[列出行号](https://blog.csdn.net/weixin_62676865/article/details/128539076?spm=1001.2014.3001.5506#t16)

 [跳到文件中的某一行](https://blog.csdn.net/weixin_62676865/article/details/128539076?spm=1001.2014.3001.5506#t17)

 [查找字符](https://blog.csdn.net/weixin_62676865/article/details/128539076?spm=1001.2014.3001.5506#t18)

[保存文件并退出](https://blog.csdn.net/weixin_62676865/article/details/128539076?spm=1001.2014.3001.5506#t19)

___

> **vim的安装命令：** yum install -y vim

## 预备知识（三种模式介绍）

基本上 vi/vim 共分为三种模式，分别是**命令模式（Command mode）**，**输入模式（Insert mode）**和**底行命令模式（Last line mode）**。 这三种模式的作用分别是： 

**一般/** **命令模式(Normal mode)**：Vim 启动后，默认进入命令模式。在此模式下，我们可以 控制屏幕光标的移动，字符、字或行的删除，移动复制某区段及进入Insert mode下，或者到 last line mode下

**输入模式(Insert mode)**：只有在此模式下我们可以编辑文本内容。在命令模式下按 i、 a 、o等键可以进入输入模式， 按「ESC」键可回到命令行模式

**底行模式（Last line mode）**： 在命令模式下，**_shift+:_** 即可进入底行模式。这时光标会移到屏幕底部，在这里可以输入相关指令进行 文件保存或退出，也可以进行文件替换，找字符串，列出行号等操作。

> 要查看你拥有的所有模式，可以在底行模式下输入查看： :help vim-modes

##  **vim****的基本操作**

图解记忆：

![](https://img-blog.csdnimg.cn/fd5ae4940ecd4a889f99d61e2eb61824.gif)

键盘实现vim一切操作

 在Linux系统提示符号后输入vim及文件名称后，进入vim编辑画面:

![](https://img-blog.csdnimg.cn/e1bf6d9d5a9741f497b512733d5834be.png)

 **对于三种模式的相互切换：**

\[正常模式\]切换至\[插入（输入）模式\]： 可以输入i、a、o任意一键切换（但三种按键进入的插入模式对应的效果不一样，下文会介绍）

\[ 正常模式 \] 切换至 \[底行 模式\]：  按下shift + ：, 其实就是输入 **:**

切换至 \[正常模式\]： 在任何模式下，都可以按 Esc 键返回到命令模式，可以多按几次 Esc 键，保证顺利返回到命令模式

**退出vim及保存文件：**

> 在**底行模式**下输入 
> 
> -   w （保存当前文件）
> -   wq (输入「wq」,保存文件并退出vim)
> -   q! (输入q!,不存盘强制退出vim)

## **vim指令集** 

大部分指令，全部都是在命令模式下进行的（不是底行模式，也不是插入模式）

### **vim****正常模式下命令集**

#### **进入插入模式**

-   按「a」进入插入模式后，是从目前光标所在位置的下一个位置开始输入文字

-   按「i」切换进入插入模式「insert mode」，按“i”进入插入模式后是从光标当前位置开始输入文件
-   按「o」进入插入模式后，是插入新的一行，从行首开始输入文字

####  移动光标

-   vim可以直接用键盘上的光标来上下左右移动，但正规的vim是用小写英文字母「h」「j」「k」、「l」，分别控制光标左、下、上、右移一格；
-   按［ gg］或［ngg］：进入到文本首行或者跳转到第n行
-   按「shift+g (G)」或［nG］：移动到文章的最后或跳转到第n行
-   按「shift+4 ($) 」：移动到光标所在行的“行尾”;
-   按「shift+6 (^)」：移动到光标所在行的“行首“;
-   按「w」：光标跳到下个字的开头;
-   按「e 」：光标跳到下个字的字尾;
-   按「b 」：光标跳到上个字的开头；
-   按「 nl 」：光标移到该行的第n 个位置;
-   按「 ctrl + b 」：屏幕往 “ 后 ” 移动一页;
-   按「 ctrl + f 」：屏幕往 “ 前 ” 移动一页;
-   按「 ctrl +u 」：屏幕往 “ 后 ” 移动半页;
-   按「 ctrl + d 」：屏幕往 “ 前 ” 移动半页

#### 注释代码

在vim中批量注释代码的一种方法是：

1\. 按Ctrl + v进入块选择模式  
2\. 移动光标选中要注释的代码行 --**注意使用h（左）   j （下）  k（上）    l（右）这四个键来进行操作，一定不要使用键盘的箭头，亲测无效**  
3\. 按Shift + i进入插入模式，输入当前语言的注释符，例如//或#  
4\. 按Esc键后，你之前选中的代码行会全部加上了注释符

如果你想取消注释，可以按Ctrl + v进入块选择模式，然后移动光标选中要取消注释的代码行，再按d键删除注释符。

####  删除文字

-   按「x」或「nx」：每按一次，删除光标所在位置的一个字符或删除包括光标所在位置及其**后面**的n个字符
-   按「X」或「nX」：大写的X，每按一次，删除光标所在位置的**前面**一个字符或删除光标位置之前的n个字符
-   按「dd」或「ndd」：对当前行或者当前行在内的n行内容进行删除操作（搭配p可进行剪切操作）

#### 复制 

-   按「yw」或「nyw」：将光标所在之处到字尾的字符（或指定n个光标后的字符）复制到缓冲区中
-   按「yy」或「nyy」 ：复制当前行或者复制当前行所在的指定若干行
-   按「p」：将缓冲区内的字符贴到光标所在位置；注意：所有与“y”有关的复制命令都必须与“p”配合才能完成复制与粘贴功能。
-   按「dd+p」:进行剪切操作 ，只按「dd」等于删除

#### 替换 

-   按「r」或「nr」：替换光标所在处的字符；
-   按「R」：替换光标所到之处的字符，直到按下「ESC」键为止；
-   按「shift+~」：实现大小写转换

#### 跳至指定的行 

-   按「ctrl+g」列出光标所在行的行号；
-   按「nG」：例如，「15G」，表示移动光标至文章的第15行行首.

####  撤销上一次操作

-   按「u」：撤销刚才的操作，回到上一个操作。按多次“u”可以执行多次撤销；
-   「ctrl + r」: 对撤销的恢复 

####  更改内容

-   按「cw」：更改光标所在处的字到字尾处
-   按「cnw」：例如，「c3w」表示更改3个字

### **vim底行****模式下命令集** 

#### 列出行号

-   「set nu」: 输入「set nu」后，会在文件中的每一行前面列出行号

####  跳到文件中的某一行

-   「n」**:** 在冒号后输入一个数字，再按回车键就会跳到该行了，如输入数字15，再回车，就会跳到文章的第15行

####  查找字符

-   「/关键字」: 先按「/」键，再输入您想寻找的字符，如果第一次找的关键字不是您想要的，可以一直按 「n」会往后寻找到您要的关键字为止。
-   「?关键字」：先按「?」键，再输入您想寻找的字符，如果第一次找的关键字不是您想要的，可以一直按「n」会往前寻找到您要的关键字为止。

#### 保存文件并退出

-   「w」: 在冒号输入字母「w」就可以将文件保存起来
-   「q」：按「q」就是退出，如果无法离开vim，可以在「q」后跟一个「!」强制离vim
-   「wq」：一般建议离开时，搭配「w」一起使用，这样在退出的时候还可以保存文件

___

本节完