RESTful（Representational State Transfer）是一种广泛采用的架构风格，用于设计网络应用程序的 API。以下是 RESTful 设计的核心原则以及如何设计资源导向的 API：

---

### **RESTful 设计的核心原则**

1. **资源导向（Resource-Oriented）**  
    REST 中的核心是资源，资源可以是数据库中的数据表、文件或逻辑实体等。每个资源通过唯一的 URI 标识。
    
2. **无状态性（Stateless）**  
    每个请求都必须包含所有信息（如认证信息）以完成操作，服务器不会存储客户端的状态。
    
3. **统一接口（Uniform Interface）**  
    REST 使用统一的接口约束，资源通过标准的 HTTP 方法（GET、POST、PUT、DELETE 等）操作。
    
4. **分层系统（Layered System）**  
    允许在架构中引入中间层（如缓存、负载均衡器）来提高性能和扩展性。
    
5. **客户端-服务器分离（Client-Server Separation）**  
    客户端和服务器的职责分离，客户端专注于用户界面，服务器负责数据存储和业务逻辑。
    
6. **可缓存性（Cacheable）**  
    响应需要明确定义是否可以缓存，提升效率。
    

---

### **资源导向的 API 设计**

1. **URL 结构**  
    URL 是资源的唯一标识，应该尽量简洁且能准确表达资源含义。
    
    - 使用名词而不是动词（URL 表示资源，不是行为）。
    - 采用层次结构表示资源之间的关系。
    
    **示例：**
    
    - 获取所有用户：`GET /users`
    - 获取特定用户：`GET /users/{id}`
    - 获取用户的订单：`GET /users/{id}/orders`
    - 获取订单中的特定商品：`GET /orders/{orderId}/items/{itemId}`
    
    **建议：**
    
    - 使用小写字母，避免混淆。
    - 不要在 URL 中加入文件扩展名（如 `.json`，内容协商通过 `Accept` 头实现）。
2. **HTTP 方法与 CRUD 映射**  
    HTTP 方法与资源的操作之间存在天然映射关系：
    
    - `GET`：检索资源或资源集合。
    - `POST`：创建新资源。
    - `PUT`：更新资源（完全更新）。
    - `PATCH`：部分更新资源。
    - `DELETE`：删除资源。
    
    **示例：**
    
    - 获取用户列表：`GET /users`
    - 创建用户：`POST /users`
    - 更新用户信息：`PUT /users/{id}`
    - 删除用户：`DELETE /users/{id}`
3. **使用状态码**  
    合理使用 HTTP 状态码表达操作结果：
    
    - **200 OK**：请求成功。
    - **201 Created**：资源创建成功。
    - **204 No Content**：删除成功或无返回内容。
    - **400 Bad Request**：客户端请求错误（如参数错误）。
    - **401 Unauthorized**：未授权访问。
    - **404 Not Found**：资源不存在。
    - **500 Internal Server Error**：服务器内部错误。
4. **支持过滤、排序、分页**  
    为了提高灵活性，可以通过查询参数实现：
    
    - 过滤：`GET /users?role=admin`
    - 排序：`GET /users?sort=age,desc`
    - 分页：`GET /users?page=2&size=20`
5. **HATEOAS（超媒体作为应用状态的引擎）**  
    在响应中提供链接，引导客户端如何进一步操作。  
    **示例响应：**
    
    ```json
    {
        "id": 1,
        "name": "John Doe",
        "links": [
            { "rel": "self", "href": "/users/1" },
            { "rel": "orders", "href": "/users/1/orders" }
        ]
    }
    ```
    
6. **版本控制**  
    避免对现有 API 的破坏性修改，建议对 API 进行版本控制：
    
    - URL 版本：`/v1/users`
    - Header 版本：`Accept: application/vnd.example.v1+json`
7. **返回一致的错误信息**  
    返回结构化的错误消息便于调试。  
    **示例：**
    
    ```json
    {
        "error": {
            "code": 404,
            "message": "User not found"
        }
    }
    ```
    

---

### **最佳实践**

- **尽量保持简洁和一致性**：API 设计应该易于理解和使用。
- **支持 JSON**：默认采用 JSON 格式传递数据。
- **安全性**：使用 HTTPS、Token 认证（如 OAuth2）等保障数据安全。
- **文档**：提供清晰的 API 文档（可使用 Swagger 等工具）。

通过遵循这些设计原则和实践，RESTful API 可以做到简单、高效、可扩展。