[[绑定（Binding）和监听（Listener）机制]]

控制器类
```java
import java.net.URL;
import java.util.ResourceBundle;
import javafx.beans.value.ChangeListener;
import javafx.beans.value.ObservableValue;
import javafx.fxml.FXML;
import javafx.fxml.Initializable;
import javafx.scene.control.Label;
import javafx.scene.control.Slider;

public class Controller implements Initializable{

	@FXML
	private Label myLabel;
	
	@FXML
	private Slider mySlider;
	
	int myTemperature;

	@Override
	public void initialize(URL url, ResourceBundle resources) {
		//value 值
		myTemperature = (int) mySlider.getValue();
		myLabel.setText(Integer.toString(myTemperature) + "°C");
		
		mySlider.valueProperty().addListener(new ChangeListener<Number>() {

			@Override
			public void changed(ObservableValue<? extends Number> observable, Number oldNumber, Number newNumber) {
				
				myTemperature = (int) mySlider.getValue();
				myLabel.setText(Integer.toString(myTemperature) + "°C");
				
			}			
		});		
	}
}
```

这段代码使用 JavaFX 框架来创建一个简单的 GUI 应用程序，它包含一个滑块 (`Slider`) 和一个标签 (`Label`) 。滑块的值代表温度，当滑块的值发生变化时，标签中的文本会更新为当前温度。

### 代码详细讲解

#### 1. 类定义与接口实现

```java
public class Controller implements Initializable {
```
- `Controller` 是一个公共类，它实现了 `Initializable` 接口。实现这个接口要求类中必须定义 `initialize` 方法，用来在界面加载完成后进行初始化操作。

#### 2. FXML 注解与组件绑定

```java
@FXML
private Label myLabel;

@FXML
private Slider mySlider;
```
- `@FXML` 注解用于标记这个类中的私有字段 `myLabel` 和 `mySlider`，这些字段对应于 FXML 文件中的标签和滑块控件。这些注解确保了 JavaFX 可以将 FXML 文件中的 UI 组件实例化并与这些字段关联。

#### 3. 温度变量

```java
int myTemperature;
```
- `myTemperature` 是一个整型变量，用于存储当前滑块的值（即温度）。这个值会显示在标签 `myLabel` 中。

#### 4. `initialize` 方法

```java
@Override
public void initialize(URL url, ResourceBundle resources) {
```
- `initialize` 方法是 `Initializable` 接口要求实现的方法。它在 FXML 文件加载并完成 UI 组件实例化后自动调用。

##### 4.1 初始温度与标签设置

```java
myTemperature = (int) mySlider.getValue();
myLabel.setText(Integer.toString(myTemperature) + "°C");
```
- 这两行代码首先获取当前滑块的初始值，并将其赋值给 `myTemperature`。然后，将该值转换为字符串形式，并附加 "°C" 字符串，最后设置为标签的文本内容。
  
##### 4.2 监听滑块值的变化

```java
mySlider.valueProperty().addListener(new ChangeListener<Number>() {
    @Override
    public void changed(ObservableValue<? extends Number> observable, Number oldNumber, Number newNumber) {
        myTemperature = (int) mySlider.getValue();
        myLabel.setText(Integer.toString(myTemperature) + "°C");
    }
});
```
- `mySlider.valueProperty().addListener`：这行代码为滑块的 `valueProperty` 属性添加了一个监听器 (`ChangeListener`)。当滑块的值发生变化时，监听器的 `changed` 方法会自动调用。

- `new ChangeListener<Number>() { ... }`：这是一个匿名内部类，使用 `ChangeListener<Number>` 接口来定义。当滑块的值发生变化时，`changed` 方法会被触发。

- `changed` 方法：
  - `observable`：表示被监听的值，通常是滑块的 `valueProperty`。
  - `oldNumber`：滑块变化前的旧值。
  - `newNumber`：滑块变化后的新值。

- 在 `changed` 方法内部，再次获取滑块的当前值，并更新 `myTemperature` 变量，然后将该值显示在标签上。这样，滑块每次变化时，标签都会自动更新。

### 5. 代码工作流程总结

1. **初始化**：当界面加载完成后，`initialize` 方法被调用。此时获取滑块的初始值，并设置标签文本为该值。
  
2. **监听滑块变化**：添加了一个监听器，当用户拖动滑块时，监听器会捕捉到值的变化，并更新 `myTemperature` 变量，同时更新标签的显示内容。

### 6. 结果

最终效果是：滑块初始值显示在标签上，用户拖动滑块时，标签中的文本会动态更新为滑块的当前值，显示类似 `25°C` 这样的温度格式。

这种用法在需要实时显示用户选择或输入的数值时非常有用，提供了动态交互的用户体验。