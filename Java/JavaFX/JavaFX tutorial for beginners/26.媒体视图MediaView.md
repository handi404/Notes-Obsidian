需要增加虚拟参数
![[屏幕截图 2024-08-13 100921.png]]

```java
import java.io.File;
import java.net.URL;
import java.util.ResourceBundle;
import javafx.fxml.FXML;
import javafx.fxml.Initializable;
import javafx.scene.control.Button;
import javafx.scene.media.Media;
import javafx.scene.media.MediaPlayer;
import javafx.scene.media.MediaView;
import javafx.util.Duration;

public class Controller implements Initializable{

	@FXML
	private MediaView mediaView;
	
	@FXML
	private Button playButton, pauseButton, resetButton;
	
	private File file;
	private Media media;
	private MediaPlayer mediaPlayer;
	
	@Override
	public void initialize(URL arg0, ResourceBundle arg1) {
		
		file = new File("MarioKart.mp4");
		media = new Media(file.toURI().toString());
		mediaPlayer = new MediaPlayer(media);
		mediaView.setMediaPlayer(mediaPlayer);
		
	}
	//播放
	public void playMedia() {
		
		mediaPlayer.play();
	}
	//暂停
	public void pauseMedia() {
		
		mediaPlayer.pause();
	}
	//重置
	public void resetMedia() {
		
		if(mediaPlayer.getStatus() != MediaPlayer.Status.READY) {
			mediaPlayer.seek(Duration.seconds(0.0));
		}
	}
}
```

这段 Java 代码是一个用于播放媒体文件（比如视频或音频）的 JavaFX 应用程序的控制器类，名为 `Controller`。它实现了 `Initializable` 接口，用于在应用程序启动时初始化一些组件。

### 代码解释

#### 1. 类声明与接口实现
```java
public class Controller implements Initializable {
```
- `Controller` 类实现了 `Initializable` 接口，这意味着它必须实现 `initialize` 方法，这个方法会在所有的 `@FXML` 注解标记的组件被加载后自动调用，用于执行任何初始化操作。

#### 2. FXML 注解的字段
```java
@FXML
private MediaView mediaView;

@FXML
private Button playButton, pauseButton, resetButton;
```
- `@FXML` 注解用于标记这些字段与 FXML 文件中的 UI 组件相对应。`mediaView` 是一个用于显示媒体内容的组件，比如视频。`playButton`、`pauseButton` 和 `resetButton` 分别是播放、暂停和重置按钮。

#### 3. 文件、媒体和播放器
```java
private File file;
private Media media;
private MediaPlayer mediaPlayer;
```
- `File`、`Media` 和 `MediaPlayer` 是 JavaFX 中的类：
  - `File` 表示一个文件，这里用于存储视频文件。
  - `Media` 是一个媒体对象，用于描述视频或音频内容。
  - `MediaPlayer` 是一个控制媒体播放的对象。

#### 4. 初始化方法
```java
@Override
public void initialize(URL arg0, ResourceBundle arg1) {
    file = new File("MarioKart.mp4");
    media = new Media(file.toURI().toString());
    mediaPlayer = new MediaPlayer(media);
    mediaView.setMediaPlayer(mediaPlayer);
}
```
- `initialize` 方法在应用程序启动时执行：
  - `file` 用来引用名为 `"MarioKart.mp4"` 的媒体文件。
  - `media` 使用这个文件创建一个 `Media` 对象。
  - `mediaPlayer` 是基于 `media` 创建的 `MediaPlayer` 对象。
  - `mediaView.setMediaPlayer(mediaPlayer);` 将 `mediaPlayer` 绑定到 `mediaView` 以便显示视频内容。

#### 5. 播放方法
```java
public void playMedia() {
    mediaPlayer.play();
}
```
- `playMedia` 方法调用 `mediaPlayer` 的 `play()` 方法来播放媒体文件。

#### 6. 暂停方法
```java
public void pauseMedia() {
    mediaPlayer.pause();
}
```
- `pauseMedia` 方法调用 `mediaPlayer` 的 `pause()` 方法暂停播放。

#### 7. 重置方法
```java
public void resetMedia() {
    if(mediaPlayer.getStatus() != MediaPlayer.Status.READY) {
        mediaPlayer.seek(Duration.seconds(0.0));
    }
}
```
- `resetMedia` 方法将媒体播放回到起始位置：
  - 首先检查 `mediaPlayer` 的状态是否为 `READY`，如果不是，则调用 `seek(Duration.seconds(0.0))` 将播放位置重置到 0 秒处。

### 总结
这个控制器类通过 JavaFX 的 `MediaPlayer` 和 `MediaView` 实现了一个简单的媒体播放器，可以播放、暂停和重置视频或音频文件。每个方法都对应一个 UI 按钮的功能。

```html
<AnchorPane maxHeight="-Infinity" maxWidth="-Infinity" minHeight="-Infinity" minWidth="-Infinity" prefHeight="400.0" prefWidth="500.0" xmlns="http://javafx.com/javafx/15.0.1" xmlns:fx="http://javafx.com/fxml/1" fx:controller="application.Controller">
   <padding>
      <Insets right="10.0" />
   </padding>
   <children>
      <MediaView fx:id="mediaView" fitHeight="300.0" fitWidth="500.0" />
      <Button fx:id="pauseButton" layoutX="224.0" layoutY="327.0" mnemonicParsing="false" onAction="#pauseMedia" text="PAUSE" />
      <Button fx:id="playButton" layoutX="133.0" layoutY="327.0" mnemonicParsing="false" onAction="#playMedia" text="PLAY" />
      <Button fx:id="resetButton" layoutX="318.0" layoutY="327.0" mnemonicParsing="false" onAction="#resetMedia" text="RESET" />
   </children>
</AnchorPane>
```



