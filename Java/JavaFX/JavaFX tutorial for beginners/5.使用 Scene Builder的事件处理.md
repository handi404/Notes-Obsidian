
控制器类
```java
import javafx.event.ActionEvent;
import javafx.fxml.FXML;
import javafx.scene.shape.Circle;


public class Controller {

	@FXML
	private Circle myCircle;
	private double x;
	private double y;
	
	public void up(ActionEvent e) {
		//System.out.println("UP");
		myCircle.setCenterY(y-=10);
	}
	public void down(ActionEvent e) {
		//System.out.println("DOWN");
		myCircle.setCenterY(y+=10);
	}
	public void left(ActionEvent e) {
		//System.out.println("LEFT");
		myCircle.setCenterX(x-=10);
	}
	public void right(ActionEvent e) {
		//System.out.println("RIGHT");
		myCircle.setCenterX(x+=10);
	}
	
}
```

![[屏幕截图 2024-08-11 132724.png]]

## 使用 Scene Builder 的 JavaFX 事件处理

Scene Builder 是一个可视化布局工具，可以大大简化 JavaFX 应用程序的开发。它允许你拖拽组件到场景中，设置属性，并且绑定事件处理程序。

### 1. **在 Scene Builder 中绑定事件**

- **选择控件：** 在 Scene Builder 中选中你想要绑定事件的控件。
- **查看事件面板：** 在 Inspector 面板中，找到“Code”选项卡。这里列出了该控件可以绑定的所有事件。
- **选择事件：** 点击你想要绑定的事件，例如“On Action”。
- **输入事件处理方法名：** 在文本框中输入你将在控制器类中定义的事件处理方法名。

### 2. **在控制器类中实现事件处理方法**

- **创建控制器类：** 在你的 Java 项目中创建一个类，作为 Scene Builder 创建的 FXML 文件的控制器。
- **使用 @FXML 注解：** 在控制器类中，使用 `@FXML` 注解标记与 Scene Builder 中的控件对应的字段。
- **实现事件处理方法：** 创建与 Scene Builder 中绑定事件的方法名相同的方法。在方法中编写事件发生时的处理逻辑。

### 示例

假设我们在 Scene Builder 中创建了一个按钮，并且将它的“On Action”事件绑定到一个名为 `handleButtonClick` 的方法。

**FXML 文件 (my_scene.fxml):**

代码段

```html
<?import javafx.scene.control.Button?>
<?import javafx.scene.layout.VBox?>

<VBox xmlns:fx="http://javafx.com/fxml"
      fx:controller="com.example.MyController"
      xmlns="http://javafx.com/javafx/8"
      prefHeight="400" prefWidth="600">
    <children>
        <Button fx:id="myButton" text="Click me" onAction="#handleButtonClick" />
    </children>
</VBox>
```

**控制器类 (MyController.java):**

```Java
import javafx.event.ActionEvent;
import javafx.fxml.FXML;
import javafx.scene.control.Button;

public class MyController {

    @FXML
    private Button myButton;

    @FXML
    private void handleButtonClick(ActionEvent ev   ent) {
        System.out.println("Button clicked!");
    }
}
```

### 3. **加载 FXML 文件**

在你的 Java 程序中，使用 `FXMLLoader` 加载 FXML 文件，并获取控制器实例：

```Java
import javafx.fxml.FXMLLoader;
import javafx.scene.Parent;
import javafx.scene.Scene;
import javafx.stage.Stage;

public class Main extends Appl   ication {

    @Override
    public void start(Stage primaryStage) throws Exception {
        FXMLLoader loader = new FXMLLoader(getClass().get   Resource("my_scene.fxml"));
        Parent root = loader.load();
        MyController controller = loader.getController();

        Scene scene = new Scene(root);
        primaryStage.setScene(scene);
        primaryStage.show();
    }

    public static void main(St   ring[] args) {
        launch(args   );
    }
}
```

### 常见事件类型

- **Action Events:** 按钮点击、菜单项选择等。
- **Mouse Events:** 鼠标点击、移动、拖拽等。
- **Key Events:** 键盘按键事件。
- **Change Events:** 属性值改变事件。
- **Focus Events:** 获得或失去焦点事件。

### 注意事项

- **事件处理方法的参数:** 不同的事件类型会传递不同的参数。例如，ActionEvent 包含了事件源的信息。
- **FXML ID:** 确保 FXML 文件中的 `fx:id` 与控制器类中的字段名一致。
- **FXMLLoader:** 使用 `FXMLLoader` 加载 FXML 文件时，可以设置根布局、资源路径等。
- **Scene Builder 版本兼容性:** 不同版本的 Scene Builder 可能存在一些差异。

**通过 Scene Builder 绑定事件，可以大大提高 JavaFX 应用程序的开发效率。**

**想了解更多关于 Scene Builder 的用法吗？**我可以为你提供更详细的教程，比如：

- 如何创建自定义控件
- 如何使用 Scene Builder 设计复杂的布局
- 如何将 Scene Builder 与其他 JavaFX 工具集成

请随时提出你的问题！