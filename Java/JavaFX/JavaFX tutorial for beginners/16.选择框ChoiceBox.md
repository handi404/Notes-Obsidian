[[Initializable 接口]]
[[事件监听器]]
控制器类
```java
import java.net.URL;
import java.util.ResourceBundle;
import javafx.event.ActionEvent;
import javafx.fxml.FXML;
import javafx.fxml.Initializable;
import javafx.scene.control.ChoiceBox;
import javafx.scene.control.Label;

public class Controller implements Initializable{
	//用于将FXML文件中的UI元素与Java代码中的变量关联起来。
	@FXML
	private Label myLabel;
	
	@FXML
	private ChoiceBox<String> myChoiceBox;
	
	private String[] food = {"pizza","sushi","ramen"};

	@Override
	public void initialize(URL arg0, ResourceBundle arg1) {
		
		myChoiceBox.getItems().addAll(food);
		//事件监听器，当用户选择某项食物时，触发 `getFood` 方法。
		myChoiceBox.setOnAction(this::getFood);
		
	}
	
	public void getFood(ActionEvent event) {
		
		String myFood = myChoiceBox.getValue();
		myLabel.setText(myFood);
	}
}
```

### 1. 类和接口
```java
public class Controller implements Initializable {
```
- `Controller` 是一个公共类，它实现了 `Initializable` 接口。实现这个接口意味着这个类必须实现 `initialize` 方法，用来初始化控制器类。

### 2. @FXML 注解
```java
@FXML
private Label myLabel;

@FXML
private ChoiceBox<String> myChoiceBox;
```
- `@FXML` 注解表示这些字段与 FXML 文件中的 UI 组件相关联。`Label` 和 `ChoiceBox<String>` 是 JavaFX 中的 UI 组件，分别代表一个标签和一个选择框。
- `private Label myLabel;`：这是一个私有的 `Label` 对象，用于在界面上显示文本。
- `private ChoiceBox<String> myChoiceBox;`：这是一个私有的 `ChoiceBox` 对象，用于让用户从下拉菜单中选择一项。

### 3. 初始化数据
```java
private String[] food = {"pizza","sushi","ramen"};
```
- 这是一个字符串数组，包含了几种食物选项，分别是 "pizza", "sushi" 和 "ramen"。这个数组用于填充 `ChoiceBox`。

### 4. `initialize` 方法
```java
@Override
public void initialize(URL arg0, ResourceBundle arg1) {
	myChoiceBox.getItems().addAll(food);
	myChoiceBox.setOnAction(this::getFood);
}
```
- `initialize` 方法是在 `Controller` 类被实例化后立即调用的。这里实现了两个功能：
  1. `myChoiceBox.getItems().addAll(food);`：这行代码将 `food` 数组中的选项添加到 `ChoiceBox` 中。
  2. `myChoiceBox.setOnAction(this::getFood);`：这行代码为 `ChoiceBox` 设置了一个事件监听器，当用户选择某项食物时，触发 `getFood` 方法。

### 5. `getFood` 方法
```java
public void getFood(ActionEvent event) {
	String myFood = myChoiceBox.getValue();
	myLabel.setText(myFood);
}
```
- `getFood` 方法是一个事件处理方法，当用户在 `ChoiceBox` 中选择了一项食物时会被调用。
- `String myFood = myChoiceBox.getValue();`：获取用户在 `ChoiceBox` 中选择的值（即食物的名称）。
- `myLabel.setText(myFood);`：将选择的食物名称设置为 `Label` 的文本，从而在界面上显示。

### 总结
- 这个程序实现了一个简单的 GUI 界面，包含一个选择框 (`ChoiceBox`) 和一个标签 (`Label`)。
- 用户可以从选择框中选择一种食物，选择后，标签上的文字会更新为用户选择的食物名称。
- 通过 `initialize` 方法进行界面初始化，并通过 `setOnAction` 设置事件处理程序，实现了交互逻辑。

这种结构是典型的 MVC（模型-视图-控制器）设计模式中的控制器部分，它处理用户输入和界面更新。

```html
<AnchorPane maxHeight="-Infinity" maxWidth="-Infinity" minHeight="-Infinity" minWidth="-Infinity" prefHeight="400.0" prefWidth="600.0" xmlns="http://javafx.com/javafx/15.0.1" xmlns:fx="http://javafx.com/fxml/1" fx:controller="application.Controller">
   <children>
      <ChoiceBox fx:id="myChoiceBox" layoutX="225.0" layoutY="188.0" prefWidth="150.0" />
      <Label fx:id="myLabel" alignment="CENTER" layoutX="-2.0" layoutY="94.0" prefHeight="17.0" prefWidth="600.0" text="Select what you want to eat">
         <font>
            <Font size="28.0" />
         </font>
      </Label>
   </children>
</AnchorPane>
```