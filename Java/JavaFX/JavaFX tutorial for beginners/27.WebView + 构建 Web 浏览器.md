P.S. 需要增加虚拟参数
![[屏幕截图 2024-08-13 100921.png]]

```java
import java.net.URL;
import java.util.ResourceBundle;

import javafx.collections.ObservableList;
import javafx.fxml.FXML;
import javafx.fxml.Initializable;
import javafx.scene.control.Button;
import javafx.scene.control.TextField;
import javafx.scene.web.WebEngine;
import javafx.scene.web.WebHistory;
import javafx.scene.web.WebView;

public class Controller implements Initializable{

	@FXML
	private WebView webView;
	@FXML
	private TextField textField;
	
	private WebEngine engine;  //处理网页内容的引擎，用于加载和显示网页
	private WebHistory history;
	private String homePage;
	private double webZoom; //管理网页的缩放比例
	
	@Override
	public void initialize(URL arg0, ResourceBundle arg1) {
		
		engine = webView.getEngine();
		//浏览器的主页URL
		homePage = "www.google.com";
		textField.setText(homePage);
		webZoom = 1;
		loadPage();
	}
	//搜索网页
	public void loadPage() {
		
		//engine.load("http://www.google.com");
		engine.load("http://"+textField.getText());
	}
	//刷新页面
	public void refreshPage() {
		
		engine.reload();
	}
	//放大页面
	public void zoomIn() {
		
		webZoom+=0.25;
		webView.setZoom(webZoom);
	}
	//缩小页面
	public void zoomOut() {
		
		webZoom-=0.25;
		webView.setZoom(webZoom);
	}
	//显示浏览记录
	public void displayHistory() {
		
		history = engine.getHistory();
		ObservableList<WebHistory.Entry> entries = history.getEntries();
		
		for(WebHistory.Entry entry : entries) {
			
			//System.out.println(entry);
			System.out.println(entry.getUrl()+" "+entry.getLastVisitedDate());
		}
	}
	//后退
	public void back() {
		
		history = engine.getHistory();
		ObservableList<WebHistory.Entry> entries = history.getEntries();
		history.go(-1);
		
		textField.setText(entries.get(history.getCurrentIndex()).getUrl());
	}
	//前进
	public void forward() {
		
		history = engine.getHistory();
		ObservableList<WebHistory.Entry> entries = history.getEntries();
		history.go(1);
		
		textField.setText(entries.get(history.getCurrentIndex()).getUrl());
	}
	//写一些js代码
	public void executeJS() {
		//将浏览器跳转到 `"https://www.youtube.com"`
		engine.executeScript("window.location = \"https://www.youtube.com\";");
	}
}
```

```html
<AnchorPane maxHeight="-Infinity" maxWidth="-Infinity" minHeight="-Infinity" minWidth="-Infinity" prefHeight="576.0" prefWidth="757.0" xmlns="http://javafx.com/javafx/15.0.1" xmlns:fx="http://javafx.com/fxml/1" fx:controller="application.Controller">
   <children>
      <WebView fx:id="webView" layoutX="7.0" layoutY="71.0" prefHeight="505.0" prefWidth="749.0" />
      <Button layoutY="46.0" mnemonicParsing="false" onAction="#loadPage" text="load" />
      <TextField fx:id="textField" layoutY="21.0" onAction="#loadPage" prefHeight="25.0" prefWidth="757.0" />
      <Button layoutX="40.0" layoutY="46.0" mnemonicParsing="false" onAction="#refreshPage" text="refresh" />
      <Button layoutX="93.0" layoutY="46.0" mnemonicParsing="false" onAction="#zoomIn" text="+" />
      <Button layoutX="118.0" layoutY="46.0" mnemonicParsing="false" onAction="#zoomOut" prefHeight="25.0" prefWidth="25.0" text="-" />
      <Button layoutX="143.0" layoutY="46.0" mnemonicParsing="false" onAction="#displayHistory" text="history" />
      <Button layoutX="195.0" layoutY="46.0" mnemonicParsing="false" onAction="#back" text="back" />
      <Button layoutX="236.0" layoutY="46.0" mnemonicParsing="false" onAction="#forward" text="forward" />
      <Button layoutX="293.0" layoutY="46.0" mnemonicParsing="false" onAction="#executeJS" text="execute JS" />
   </children>
</AnchorPane>
```