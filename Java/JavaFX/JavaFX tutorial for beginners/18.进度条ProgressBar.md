
点击按钮时，进度条的进度增加，同时标签显示的百分比也会相应更新。
```java
import java.math.BigDecimal;
import java.net.URL;
import java.util.ResourceBundle;
import javafx.beans.value.ChangeListener;
import javafx.beans.value.ObservableValue;
import javafx.fxml.FXML;
import javafx.fxml.Initializable;
import javafx.scene.control.Button;
import javafx.scene.control.Label;
import javafx.scene.control.ProgressBar;
import javafx.scene.control.Slider;

public class Controller implements Initializable{

	@FXML
	private ProgressBar myProgressBar;
	
	@FXML
	private Button myButton;
	
	@FXML
	private Label myLabel;
	
	//BigDecimal 类使用户能够完全控制舍入行为
	BigDecimal progress = new BigDecimal(String.format("%.2f", 0.0));
	
	@Override
	public void initialize(URL arg0, ResourceBundle arg1) {
		
		myProgressBar.setStyle("-fx-accent: #00FF00;");
		
	}
	
	public void increaseProgress() {
		
		if(progress.doubleValue() < 1) {
			progress = new BigDecimal(String.format("%.2f", progress.doubleValue() + 0.1));
			//System.out.println(progress.doubleValue());
			myProgressBar.setProgress(progress.doubleValue());
			myLabel.setText(Integer.toString((int)Math.round(progress.doubleValue() * 100)) + "%");
		}
	}
}
```

### 代码详细讲解

#### 1. 类定义与接口实现

```java
public class Controller implements Initializable {
```
- `Controller` 类实现了 `Initializable` 接口。这个接口要求实现 `initialize` 方法，用来初始化界面组件。

#### 2. FXML 注解与组件绑定

```java
@FXML
private ProgressBar myProgressBar;

@FXML
private Button myButton;

@FXML
private Label myLabel;
```
- 这些字段通过 `@FXML` 注解与 FXML 文件中的对应 UI 组件绑定。JavaFX 会自动将 FXML 文件中的 `ProgressBar`、`Button` 和 `Label` 组件与这些变量关联。

#### 3. BigDecimal 类用于精确计算

```java
BigDecimal progress = new BigDecimal(String.format("%.2f", 0.0));
```
- `BigDecimal` 是一个用于处理高精度计算的类。它特别适合在涉及货币、精确小数计算等场景中使用，避免由于二进制浮点数表示导致的舍入误差。

- 这里，`progress` 是一个 `BigDecimal` 类型的变量，用来表示当前的进度值。初始化为 `0.0`，并格式化为两位小数。

#### 4. `initialize` 方法

```java
@Override
public void initialize(URL arg0, ResourceBundle arg1) {
    myProgressBar.setStyle("-fx-accent: #00FF00;");
}
```
- `initialize` 方法在界面加载完成后自动调用。这里使用了 `setStyle` 方法为进度条设置样式，进度条的进度颜色被设置为绿色 (`#00FF00`，即 RGB 值表示的绿色)。

#### 5. `increaseProgress` 方法

```java
public void increaseProgress() {
    if (progress.doubleValue() < 1) {
        progress = new BigDecimal(String.format("%.2f", progress.doubleValue() + 0.1));
        myProgressBar.setProgress(progress.doubleValue());
        myLabel.setText(Integer.toString((int) Math.round(progress.doubleValue() * 100)) + "%");
    }
}
```
- 这个方法由按钮点击事件触发，负责增加进度条的进度。

**逻辑分析**：

1. **检查进度是否小于 1**：
   ```java
   if (progress.doubleValue() < 1) {
   ```
   - `progress.doubleValue()` 将 `BigDecimal` 转换为 `double` 类型，并检查当前进度是否小于 `1.0`（100%）。

2. **增加进度值**：
   ```java
   progress = new BigDecimal(String.format("%.2f", progress.doubleValue() + 0.1));
   ```
   - 当前进度增加 `0.1`（即 10%），然后将结果格式化为两位小数，并赋值给 `progress`。`String.format("%.2f", ...)` 确保进度值始终保留两位小数，避免累积的小数误差。

3. **更新进度条**：
   ```java
   myProgressBar.setProgress(progress.doubleValue());
   ```
   - 使用 `myProgressBar.setProgress(progress.doubleValue())` 方法更新进度条的进度显示。

4. **更新标签显示百分比**：
   ```java
   myLabel.setText(Integer.toString((int) Math.round(progress.doubleValue() * 100)) + "%");
   ```
   - 计算当前进度的百分比，并将其显示在标签上。`Math.round(progress.doubleValue() * 100)` 将进度值转换为百分比，并四舍五入为最接近的整数。然后通过 `Integer.toString()` 转换为字符串，最后拼接 `"%"` 并设置为标签的文本内容。

### 6. 代码工作流程总结

1. **初始化**：界面加载后，进度条的颜色被设置为绿色。
2. **点击按钮**：用户每次点击按钮时，`increaseProgress` 方法都会被调用。
3. **增加进度**：如果当前进度小于 100%，进度条的值会增加 10%。
4. **更新 UI**：进度条的进度更新，同时标签会显示当前进度的百分比。

### 7. 使用 `BigDecimal` 的原因

`BigDecimal` 的使用是为了确保在处理涉及小数点的精确计算时不会发生舍入误差。在金融计算、科学计算等场合，使用 `float` 或 `double` 类型可能会因为其有限精度而导致误差。因此，使用 `BigDecimal` 能确保计算的准确性和可控的舍入行为。

### 总结

这段代码展示了如何通过 JavaFX 构建一个简单的进度条应用，并通过按钮的点击逐步更新进度。使用 `BigDecimal` 确保进度值计算的精度，使得每次增加进度都精确到小数点后两位。