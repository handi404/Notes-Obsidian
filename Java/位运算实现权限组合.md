在权限管理中，可以用位运算来实现权限组合，这样可以更加高效、简洁地操作权限。位运算通过二进制表示权限，每个权限用一位来表示是否拥有这种权限，例如二进制的 `1` 表示有权限，`0` 表示无权限。我们可以用位运算进行权限的增加、删除、检查等操作。

### 示例

假设我们有以下几种权限：

1. 读取（`READ`）权限，表示为第 1 位
2. 写入（`WRITE`）权限，表示为第 2 位
3. 执行（`EXECUTE`）权限，表示为第 3 位
4. 删除（`DELETE`）权限，表示为第 4 位

可以将这些权限对应的二进制位如下：

| 权限   | 二进制位   | 十进制表示 |
| ------ | ---------- | ---------- |
| 读取   | 0001       | 1          |
| 写入   | 0010       | 2          |
| 执行   | 0100       | 4          |
| 删除   | 1000       | 8          |

### 操作

假设使用一个整数表示当前权限组合，结合位运算操作就可以实现增删查功能。

#### 1. 定义权限常量

```java
int READ = 1;    // 0001
int WRITE = 2;   // 0010
int EXECUTE = 4; // 0100
int DELETE = 8;  // 1000
```

#### 2. 添加权限

添加权限使用 **按位或 (`|`)** 运算，将相应的权限位设置为 `1`。

```java
int permissions = 0; // 初始权限为空

// 添加读取和写入权限
permissions |= READ;
permissions |= WRITE;
System.out.println(permissions); // 输出：3 （0011）
```

#### 3. 删除权限

删除权限使用 **按位与非 (`& ~`)** 运算，将不需要的权限位清零。

```java
// 删除写入权限
permissions &= ~WRITE;
System.out.println(permissions); // 输出：1 （0001）
```

#### 4. 检查权限

检查某权限是否存在可以使用 **按位与 (`&`)** 运算。如果结果不为 `0`，表示有该权限。

```java
// 检查是否有读取权限
boolean hasRead = (permissions & READ) != 0;
System.out.println(hasRead); // 输出：true
```

#### 5. 切换（翻转）权限

切换权限位使用 **按位异或 (`^`)** 运算。可以在拥有该权限时取消，在无该权限时添加。

```java
// 切换写入权限
permissions ^= WRITE;
System.out.println(permissions); // 输出权限已切换
```

### 综合案例

综合以上操作，我们可以实现一个权限管理工具：

```java
public class PermissionManager {
    // 定义权限位
    public static final int READ = 1;    // 0001
    public static final int WRITE = 2;   // 0010
    public static final int EXECUTE = 4; // 0100
    public static final int DELETE = 8;  // 1000

    // 添加权限
    public static int addPermission(int permissions, int permissionToAdd) {
        return permissions | permissionToAdd;
    }

    // 删除权限
    public static int removePermission(int permissions, int permissionToRemove) {
        return permissions & ~permissionToRemove;
    }

    // 检查权限
    public static boolean hasPermission(int permissions, int permissionToCheck) {
        return (permissions & permissionToCheck) != 0;
    }

    // 切换权限
    public static int togglePermission(int permissions, int permissionToToggle) {
        return permissions ^ permissionToToggle;
    }

    public static void main(String[] args) {
        int permissions = 0; // 初始权限为空

        // 添加权限
        permissions = addPermission(permissions, READ);
        permissions = addPermission(permissions, WRITE);
        System.out.println("当前权限：" + permissions); // 输出：3

        // 检查权限
        System.out.println("是否有写入权限：" + hasPermission(permissions, WRITE)); // true

        // 删除权限
        permissions = removePermission(permissions, WRITE);
        System.out.println("是否有写入权限：" + hasPermission(permissions, WRITE)); // false

        // 切换权限
        permissions = togglePermission(permissions, EXECUTE);
        System.out.println("当前权限：" + permissions); // 输出：5
    }
}
```

通过这个示例，可以高效、灵活地操作权限设置，适合权限组合较多的权限管理系统。