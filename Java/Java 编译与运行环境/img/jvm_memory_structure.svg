<svg width="800" height="600" xmlns="http://www.w3.org/2000/svg">
  <!-- 背景 -->
  <rect width="800" height="600" fill="#f8f9fa" stroke="#e9ecef" stroke-width="2"/>
  
  <!-- 标题 -->
  <text x="400" y="30" text-anchor="middle" font-family="Arial, sans-serif" font-size="20" font-weight="bold" fill="#2c3e50">JVM内存结构图</text>
  
  <!-- 堆内存区域 -->
  <rect x="50" y="60" width="350" height="300" fill="#e8f4f8" stroke="#3498db" stroke-width="2" rx="8"/>
  <text x="225" y="80" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#2980b9">堆内存 (Heap Memory)</text>
  
  <!-- 新生代 -->
  <rect x="70" y="100" width="310" height="120" fill="#d5e8d4" stroke="#27ae60" stroke-width="1.5" rx="5"/>
  <text x="225" y="118" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#27ae60">新生代 (Young Generation)</text>
  
  <!-- Eden区 -->
  <rect x="85" y="130" width="90" height="60" fill="#a8e6cf" stroke="#27ae60" stroke-width="1" rx="3"/>
  <text x="130" y="150" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#1e8449">Eden区</text>
  <text x="130" y="165" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">新对象分配</text>
  
  <!-- Survivor 0 -->
  <rect x="185" y="130" width="70" height="60" fill="#a8e6cf" stroke="#27ae60" stroke-width="1" rx="3"/>
  <text x="220" y="150" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#1e8449">Survivor 0</text>
  <text x="220" y="165" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">From区</text>
  
  <!-- Survivor 1 -->
  <rect x="265" y="130" width="70" height="60" fill="#a8e6cf" stroke="#27ae60" stroke-width="1" rx="3"/>
  <text x="300" y="150" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#1e8449">Survivor 1</text>
  <text x="300" y="165" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">To区</text>
  
  <!-- 老年代 -->
  <rect x="70" y="240" width="310" height="100" fill="#fce4ec" stroke="#e91e63" stroke-width="1.5" rx="5"/>
  <text x="225" y="260" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#c2185b">老年代 (Old Generation)</text>
  <text x="225" y="280" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#666">长期存活的对象</text>
  <text x="225" y="295" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#666">大对象直接分配</text>
  <text x="225" y="310" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#666">Full GC清理</text>
  
  <!-- 方法区 -->
  <rect x="450" y="60" width="300" height="140" fill="#fff3e0" stroke="#ff9800" stroke-width="2" rx="8"/>
  <text x="600" y="80" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#f57c00">方法区 (Method Area)</text>
  
  <!-- 运行时常量池 -->
  <rect x="470" y="100" width="120" height="80" fill="#ffcc80" stroke="#ff9800" stroke-width="1" rx="3"/>
  <text x="530" y="120" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#e65100">运行时常量池</text>
  <text x="530" y="135" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">字符串常量</text>
  <text x="530" y="150" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">符号引用</text>
  <text x="530" y="165" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">直接引用</text>
  
  <!-- 类信息存储 -->
  <rect x="610" y="100" width="120" height="80" fill="#ffcc80" stroke="#ff9800" stroke-width="1" rx="3"/>
  <text x="670" y="120" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#e65100">类信息存储</text>
  <text x="670" y="135" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">类结构信息</text>
  <text x="670" y="150" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">方法信息</text>
  <text x="670" y="165" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">字段信息</text>
  
  <!-- 程序计数器 -->
  <rect x="450" y="220" width="140" height="80" fill="#f3e5f5" stroke="#9c27b0" stroke-width="2" rx="8"/>
  <text x="520" y="240" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#7b1fa2">程序计数器</text>
  <text x="520" y="255" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#7b1fa2">(PC Register)</text>
  <text x="520" y="275" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">当前线程执行</text>
  <text x="520" y="290" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">字节码指令地址</text>
  
  <!-- 虚拟机栈 -->
  <rect x="610" y="220" width="140" height="80" fill="#e8f5e8" stroke="#4caf50" stroke-width="2" rx="8"/>
  <text x="680" y="240" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#388e3c">虚拟机栈</text>
  <text x="680" y="255" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#388e3c">(VM Stack)</text>
  <text x="680" y="275" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">栈帧存储</text>
  <text x="680" y="290" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">局部变量、操作数</text>
  
  <!-- 本地方法栈 -->
  <rect x="450" y="320" width="140" height="80" fill="#ffebee" stroke="#f44336" stroke-width="2" rx="8"/>
  <text x="520" y="340" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#d32f2f">本地方法栈</text>
  <text x="520" y="355" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#d32f2f">(Native Stack)</text>
  <text x="520" y="375" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">Native方法</text>
  <text x="520" y="390" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">调用支持</text>
  
  <!-- 直接内存 -->
  <rect x="610" y="320" width="140" height="80" fill="#f5f5f5" stroke="#607d8b" stroke-width="2" rx="8"/>
  <text x="680" y="340" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#455a64">直接内存</text>
  <text x="680" y="355" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#455a64">(Direct Memory)</text>
  <text x="680" y="375" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">NIO操作</text>
  <text x="680" y="390" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">不受JVM管理</text>
  
  <!-- 栈帧详细结构 -->
  <rect x="50" y="420" width="350" height="150" fill="#f8f9fa" stroke="#6c757d" stroke-width="2" rx="8"/>
  <text x="225" y="440" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#495057">栈帧结构 (Stack Frame)</text>
  
  <!-- 局部变量表 -->
  <rect x="70" y="450" width="100" height="50" fill="#cce5ff" stroke="#007bff" stroke-width="1" rx="3"/>
  <text x="120" y="470" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#0056b3">局部变量表</text>
  <text x="120" y="485" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">Local Variables</text>
  
  <!-- 操作数栈 -->
  <rect x="180" y="450" width="100" height="50" fill="#d4edda" stroke="#28a745" stroke-width="1" rx="3"/>
  <text x="230" y="470" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#155724">操作数栈</text>
  <text x="230" y="485" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">Operand Stack</text>
  
  <!-- 动态链接 -->
  <rect x="290" y="450" width="100" height="50" fill="#fff3cd" stroke="#ffc107" stroke-width="1" rx="3"/>
  <text x="340" y="470" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#856404">动态链接</text>
  <text x="340" y="485" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">Dynamic Link</text>
  
  <!-- 方法返回地址 -->
  <rect x="125" y="510" width="150" height="50" fill="#f8d7da" stroke="#dc3545" stroke-width="1" rx="3"/>
  <text x="200" y="530" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#721c24">方法返回地址</text>
  <text x="200" y="545" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#666">Return Address</text>
  
  <!-- 垃圾回收区域标注 -->
  <rect x="450" y="450" width="300" height="120" fill="#f0f8ff" stroke="#4169e1" stroke-width="2" rx="8"/>
  <text x="600" y="470" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#4169e1">垃圾回收区域</text>
  
  <!-- GC说明 -->
  <text x="470" y="490" font-family="Arial, sans-serif" font-size="12" fill="#333">• 新生代GC (Minor GC): 频繁但快速</text>
  <text x="470" y="510" font-family="Arial, sans-serif" font-size="12" fill="#333">• 老年代GC (Major GC): 较慢但彻底</text>
  <text x="470" y="530" font-family="Arial, sans-serif" font-size="12" fill="#333">• 全量GC (Full GC): 整个堆空间</text>
  <text x="470" y="550" font-family="Arial, sans-serif" font-size="12" fill="#333">• 方法区GC: 类卸载、常量池清理</text>
  
  <!-- 箭头和连接线 -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="10" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#666"/>
    </marker>
  </defs>
  
  <!-- Eden到Survivor的箭头 -->
  <line x1="175" y1="160" x2="185" y2="160" stroke="#27ae60" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="255" y1="160" x2="265" y2="160" stroke="#27ae60" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- 新生代到老年代的箭头 -->
  <line x1="225" y1="220" x2="225" y2="240" stroke="#e91e63" stroke-width="2" marker-end="url(#arrowhead)"/>
  
  <!-- 版本信息 -->
  <text x="10" y="590" font-family="Arial, sans-serif" font-size="10" fill="#999">适用于JDK 8及以上版本</text>
</svg>