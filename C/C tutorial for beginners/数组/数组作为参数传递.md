## C语言中数组作为参数传递

### 数组名作为参数传递

在 C 语言中，当把一个数组作为参数传递给函数时，**实际上传递的是数组的首元素的地址**。也就是说，函数形参接收到的是一个指向数组首元素的指针。

**特点：**

- **传递的是地址：** 函数内对数组的修改会影响到原数组。
- **数组大小不确定：** 函数内一般无法直接获取数组的大小，需要额外传递数组大小作为参数。

**示例：**

```C
#include <stdio.h>

void printArray(int arr[], int size) {
    for (int i = 0; i < size; i++) {
        printf("%d ", arr[i]);
    }
    printf("\n");
}

int main() {
    int arr[5] = {1, 2, 3, 4, 5};
    printArray(ar   1. www.oikita.com www.oikita.comr, 5);  // 传递数组名和大小
    return 0;
}
```

### 数组作为参数传递的本质

- **数组名是常量指针：** 数组名代表数组首元素的地址，是一个常量指针，不能被修改。
- **函数形参是数组指针：** 函数形参接收到的也是一个指针，指向传递进来的数组的首元素。

### 注意事项

- **数组大小：** 函数内一般无法直接获取数组大小，需要额外传递数组大小作为参数。
- **数组修改：** 函数内对数组的修改会影响到原数组。
- **指针运算：** 可以使用指针运算来访问数组元素。

### 数组作为参数传递的优点

- **高效：** 传递指针比传递整个数组更节省空间和时间。
- **灵活：** 可以对数组进行各种操作。

### 数组作为参数传递的缺点

- **数组大小不确定：** 需要额外传递数组大小。
- **容易出错：** 数组越界访问可能会导致程序崩溃。

### 总结

C 语言中数组作为参数传递时，传递的是数组首元素的地址。函数内对数组的修改会影响到原数组。在使用数组作为参数时，需要注意数组大小、指针运算以及数组越界等问题。

### 常见问题

- **为什么数组作为参数传递时，数组的大小会丢失？**
    - 因为数组名在传递给函数时，退化为指向数组首元素的指针，失去了数组的大小信息。
- **如何在函数内获取数组的大小？**
    - 额外传递数组的大小作为参数。
- **数组作为参数传递和指针有什么区别？**
    - 数组名本质上是一个常量指针，而指针可以指向任意类型的变量。
    - 数组名表示数组的起始地址，而指针可以指向任意内存地址。

### 拓展

- **二维数组作为参数传递：** 二维数组也可以作为参数传递，但需要特别注意行数的传递。
- **变长数组：** C99标准引入了变长数组，可以根据需要动态分配数组的大小。
- **C++中的数组和指针：** C++中数组和指针的处理有一些区别，需要注意。