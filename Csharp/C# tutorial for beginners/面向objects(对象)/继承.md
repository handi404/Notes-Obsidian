#### // 继承 = 1 个或多个子类从公共父类接收字段、方法等

---

```c#
using System;

namespace MyFirstProgram
{
    class Program
    {
        static void Main(string[] args)
        {
            Car car = new Car();
            Bicycle bicycle = new Bicycle();
            Boat boat = new Boat();

            Console.WriteLine(car.speed);
            Console.WriteLine(car.wheels);
            car.go();

            Console.WriteLine(bicycle.speed);
            Console.WriteLine(bicycle.wheels);
            bicycle.go();

            Console.WriteLine(boat.speed);
            Console.WriteLine(boat.wheels);
            boat.go();

            Console.ReadKey();
        }   
    }
    class Vehicle
    {
        public int speed = 0;

        public void go()
        {
            Console.WriteLine("This vehicle is moving!");
        }
    }
    class Car : Vehicle
    {
        public int wheels = 4;
    }
    class Bicycle : Vehicle
    {
        public int wheels = 2;
    }
    class Boat : Vehicle
    {
        public int wheels = 0;
    }
}
```



在C sharp中，继承（Inheritance）是面向对象编程（OOP）的一个核心概念，它允许一个类（派生类或子类）继承另一个类（基类或父类）的字段和方法。通过继承，子类可以重用基类的代码，同时还可以扩展或修改基类的行为。

### 基本语法

假设你有一个基类 `Animal` 和一个派生类 `Dog`：

```csharp
// 基类
public class Animal
{
    public string Name { get; set; }

    public void Eat()
    {
        Console.WriteLine($"{Name} is eating.");
    }
}

// 派生类
public class Dog : Animal
{
    public void Bark()
    {
        Console.WriteLine($"{Name} is barking.");
    }
}
```

### 使用继承

你可以创建 `Dog` 类的实例，并访问 `Animal` 类的成员：

```csharp
class Program
{
    static void Main(string[] args)
    {
        Dog myDog = new Dog();
        myDog.Name = "Buddy";
        myDog.Eat();  // 继承自 Animal 类的方法
        myDog.Bark(); // Dog 类自己的方法
    }
}
```

### 方法重写

子类可以重写（override）基类的方法，以提供特定的实现。要重写一个方法，基类的方法必须使用 `virtual` 关键字，而子类的方法必须使用 `override` 关键字。

```csharp
public class Animal
{
    public string Name { get; set; }

    public virtual void MakeSound()
    {
        Console.WriteLine($"{Name} makes a sound.");
    }
}

public class Dog : Animal
{
    public override void MakeSound()
    {
        Console.WriteLine($"{Name} barks.");
    }
}
```

在使用时，子类的实现将覆盖基类的实现：

```csharp
class Program
{
    static void Main(string[] args)
    {
        Dog myDog = new Dog();
        myDog.Name = "Buddy";
        myDog.MakeSound(); // 输出 "Buddy barks."
    }
}
```

### 基类构造函数

子类可以调用基类的构造函数。使用 `base` 关键字，可以显式地调用基类的构造函数。

```csharp
public class Animal
{
    public string Name { get; set; }

    public Animal(string name)
    {
        Name = name;
    }
}

public class Dog : Animal
{
    public Dog(string name) : base(name)
    {
    }
}
```

在实例化 `Dog` 类时，基类的构造函数将被调用：

```csharp
class Program
{
    static void Main(string[] args)
    {
        Dog myDog = new Dog("Buddy");
        Console.WriteLine(myDog.Name); // 输出 "Buddy"
    }
}
```

### 使用 `sealed` 防止继承

如果你想阻止一个类被继承，可以使用 `sealed` 关键字：

```csharp
public sealed class Animal
{
    public string Name { get; set; }
}
```

现在，任何尝试继承 `Animal` 类的行为都会导致编译错误。

### 示例总结

```csharp
using System;

public class Animal
{
    public string Name { get; set; }

    public Animal(string name)
    {
        Name = name;
    }

    public virtual void MakeSound()
    {
        Console.WriteLine($"{Name} makes a sound.");
    }
}

public class Dog : Animal
{
    public Dog(string name) : base(name)
    {
    }

    public override void MakeSound()
    {
        Console.WriteLine($"{Name} barks.");
    }

    public void Bark()
    {
        Console.WriteLine($"{Name} is barking.");
    }
}

class Program
{
    static void Main(string[] args)
    {
        Dog myDog = new Dog("Buddy");
        myDog.MakeSound(); // 输出 "Buddy barks."
        myDog.Bark();      // 输出 "Buddy is barking."
        Console.WriteLine(myDog.Name); // 输出 "Buddy"
    }
}
```

这个示例展示了C#中继承的基本用法，包括类的声明、方法的重写、调用基类构造函数以及如何使用继承实现代码复用和扩展。