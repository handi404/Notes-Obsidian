在 Vue 3 中，条件呈现指的是根据某个条件来决定是否在 DOM 中显示某些内容。Vue 提供了几种用于条件渲染的指令，主要包括 `v-if`、`v-else-if`、`v-else` 和 `v-show`，它们各有不同的适用场景和工作机制。

### 1. **`v-if` 指令**
`v-if` 用于根据表达式的真假来有条件地渲染元素。只有当条件为 `true` 时，Vue 才会将该元素渲染到 DOM 中。当条件为 `false` 时，元素将不会存在于 DOM 中。

#### 示例：
```html
<div id="app">
  <p v-if="seen">现在你可以看见我了！</p>
</div>

<script>
  const app = Vue.createApp({
    data() {
      return {
        seen: true
      }
    }
  });

  app.mount('#app');
</script>
```

在这个示例中，`p` 标签只有在 `seen` 的值为 `true` 时才会显示。你可以通过更改 `seen` 的值来控制这个元素是否被渲染。

#### 工作原理：
- 当 `v-if` 条件为 `false` 时，相关的元素和它的子元素将被完全从 DOM 中移除。
- 当条件变为 `true` 时，Vue 会重新生成元素并插入到 DOM 中。

---

### 2. **`v-else-if` 和 `v-else` 指令**
`v-else-if` 和 `v-else` 结合 `v-if` 一起使用，提供了类似于 JavaScript 中 `if-else` 结构的功能。

#### 示例：
```html
<div id="app">
  <p v-if="type === 'A'">Type A</p>
  <p v-else-if="type === 'B'">Type B</p>
  <p v-else>Other Types</p>
</div>

<script>
  const app = Vue.createApp({
    data() {
      return {
        type: 'A'
      }
    }
  });

  app.mount('#app');
</script>
```

在这个例子中，`type` 的值决定了显示哪个段落。如果 `type` 为 `'A'`，会显示 "Type A"；如果为 `'B'`，会显示 "Type B"；如果既不是 `'A'` 也不是 `'B'`，则会显示 "Other Types"。

#### 工作原理：
- `v-else` 永远不能单独使用，必须跟在 `v-if` 或 `v-else-if` 之后，并且不需要表达式。
- `v-else-if` 用于在 `v-if` 为 `false` 的情况下检查另一个条件。

---

### 3. **`v-show` 指令**
`v-show` 和 `v-if` 的主要区别在于：
- `v-if` 完全删除或添加元素到 DOM 中。
- `v-show` 只是通过控制元素的 CSS `display` 属性来显示或隐藏元素，元素始终存在于 DOM 中。

#### 示例：
```html
<div id="app">
  <p v-show="isVisible">你可以看见我！</p>
</div>

<script>
  const app = Vue.createApp({
    data() {
      return {
        isVisible: true
      }
    }
  });

  app.mount('#app');
</script>
```

当 `isVisible` 为 `true` 时，`p` 标签会显示；为 `false` 时，`p` 标签不会被移除，而是被设置为 `display: none`，使它不可见。

#### 工作原理：
- `v-show` 的元素总是被渲染并保留在 DOM 中，无论条件是否为真。它只是通过切换 `display` 样式来实现隐藏或显示。
- `v-show` 适用于频繁切换显示状态的情况，因为它不会移除和重新创建元素。

---

### 4. **`template` 元素与条件渲染**
有时候你需要基于条件来渲染多个元素，而不希望引入多余的父级元素。此时可以将条件指令添加到 `template` 元素中，而 `template` 元素本身不会渲染到最终的 HTML。

#### 示例：
```html
<div id="app">
  <template v-if="ok">
    <h1>条件为真时显示的标题</h1>
    <p>条件为真时显示的段落</p>
  </template>
</div>

<script>
  const app = Vue.createApp({
    data() {
      return {
        ok: true
      }
    }
  });

  app.mount('#app');
</script>
```

在这个例子中，如果 `ok` 为 `true`，则 `h1` 和 `p` 标签会同时渲染。`template` 元素本身不会被渲染到 DOM 中，只是作为一个包裹元素来包含多个子元素。

---

### 5. **`key` 属性的使用**
当使用 `v-if` 和 `v-for` 或在动态条件渲染时，建议使用 `key` 属性来显式告诉 Vue 如何跟踪元素的唯一性。`key` 在 Vue 的虚拟 DOM diff 算法中扮演了重要角色，帮助 Vue 高效地更新 DOM。

#### 示例：
```html
<div id="app">
  <template v-if="loginType === 'username'">
    <label>Username</label>
    <input key="username-input" placeholder="Enter your username">
  </template>
  <template v-else>
    <label>Email</label>
    <input key="email-input" placeholder="Enter your email">
  </template>
</div>

<script>
  const app = Vue.createApp({
    data() {
      return {
        loginType: 'username'
      }
    }
  });

  app.mount('#app');
</script>
```

在这个例子中，`key` 属性确保每次 `loginType` 变化时，Vue 不会简单地复用 `<input>` 元素，而是会强制替换它，确保表单输入框的正确性。

---

### 6. **`v-if` 和 `v-show` 的选择**
- **`v-if`**：适用于条件不经常改变的场景，因为它会销毁和重建元素，有较高的性能消耗。
- **`v-show`**：适用于频繁切换显示状态的场景，因为它只改变 CSS `display`，不会从 DOM 中移除元素。

#### 何时使用：
- **`v-if`**：如果在初始加载时条件为 `false` 且很少切换时，使用 `v-if` 可以避免不必要的 DOM 渲染。
- **`v-show`**：如果元素需要频繁显示和隐藏，使用 `v-show` 可以避免频繁的 DOM 操作。

---

### 总结
Vue 3 的条件呈现指令非常灵活，能够根据表达式控制 DOM 元素的显示与隐藏。`v-if` 适合条件变化不频繁的情况，而 `v-show` 更适合需要频繁切换的元素。通过 `v-else-if` 和 `v-else` 可以实现多条件判断，而 `template` 元素则帮助我们在多元素条件渲染时避免不必要的父元素。