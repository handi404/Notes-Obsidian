从视图组件内部获取外部数据
用 json-server 演示  [[JavaScript/JSON/JSON Server/详解|详解]]
json 中的键必须用双引号

```vue
<template>
  <h1>Jobs</h1>
  <div v-for="job in jobs" :key="job.id" class="job">
    <router-link :to="{ name: 'JobDetails', params: { id: job.id } }">
      <h2>{{ job.title }}</h2>
    </router-link>
  </div>
</template>

<script>
export default {
  data() {
    return {
      jobs: [],
    };
  },
  mounted() {
    fetch("http://localhost:3000/jobs")
      .then((res) => res.json())
      .then((data) => (this.jobs = data))
      .catch((error) => console.log(error.message));
  },
};
</script>

<style>
.job h2 {
  background: #f4f4f4;
  padding: 20px;
  border-radius: 10px;
  margin: 10px auto;
  max-width: 600px;
  cursor: pointer;
  color: #444;
}
.job h2:hover {
  background: #ddd;
}
.job a {
  text-decoration: none;
}
</style>
```

```vue
<template>
  <h1>Job Details Page</h1>
  <p>{{ job.title }}</p>
  <p>The job id is {{ id }}</p>
  <p>{{ job.details }}</p>
</template>

<script>
export default {
  props: ["id"],
  data() {
    return {
      job: null,
    };
  },
  mounted() {
    fetch("http://localhost:3000/jobs/" + this.id)
      .then((res) => res.json())
      .then((data) => (this.job = data))
      .catch((error) => console.log(error.message));
  },
};
</script>
```

**报错 Cannot read properties of null (reading 'title')**

它说我们不能从 null 获取 title 属性，为什么它是 null ，因为我们试图检索一个 job 对象，它是 null，因为一开始我们首先加载组件，我们将 job 设置为 null，只有当我们使用 fetch api 检索 job 时，我们才会获得该 job 的值，这需要一秒钟左右的时间才能获得，因此，当我们首次加载页面时，我们就是在尝试输出null 的 title 属性，只有当我们有该 job 的值时我们才能这样做

需要一个办法只有当我们从获取请求中返回一个值时，才有条件地输出此内容
最简单用 v-if v-else
```vue
<template>
<div v-if="job">
	<h1>{{ job.title }}</h1>
	<p>The job id is {{ id }}</p>
	<p>{{ job.details }}</p>
</div>
</template>

<script>
export default {
  props: ["id"],
  data() {
    return {
      job: null,
    };
  },
  mounted() {
    fetch("http://localhost:3000/jobs/" + this.id)
      .then((res) => res.json())
      .then((data) => (this.job = data))
      .catch((error) => console.log(error.message));
  },
};
</script>
```
