### Express.js 中定义路由处理函数的方法总结

在 Express.js 中，我们主要使用 `app.use()` 和 `app.get()` 等方法来定义路由处理函数，它们分别有不同的作用和适用场景：

#### 1. `app.use(func)`

- **作用：**
    - **全局中间件：** 当没有指定路径时，该方法定义的函数会在所有请求上执行，无论 HTTP 方法是什么（GET、POST、PUT 等）。
    - **路径匹配：** 当指定了路径，它会匹配该路径及其子路径的所有请求。
    - **路由器挂载：** 可以用来挂载一个路由器实例，将多个路由分组管理。
- **用途：**
    - **日志记录：** 记录所有请求的日志。
    - **错误处理：** 处理全局的错误。
    - **静态文件服务：** 使用 `express.static` 中间件提供静态文件服务。
    - **身份验证：** 实现用户身份验证。
    - **CORS设置：** 配置跨域资源共享。

#### 2. `app.get('/', func)`

- **作用：**
    - **特定路由：** 仅处理 `GET` 请求且路径为 `/` 的请求。
- **用途：**
    - **首页路由：** 处理访问网站首页的请求。
    - **特定接口：** 处理特定接口的 `GET` 请求。

### 两者区别总结

|方法|作用|用途示例|
|---|---|---|
|app.use(func)|全局或路径匹配，所有请求|日志记录、错误处理、静态文件服务|
|app.get('/', func)|特定路由（GET /）|首页路由、特定接口|

### 总结

- **`app.use()`** 更适合定义全局性的中间件或者对一组路由进行统一的处理。
- **`app.get()`** 则更适合定义针对特定 HTTP 方法和路径的路由处理函数。

### 举例说明

```JavaScript
const express = require('express');
const app = express();

// 全局中间件，记录所有请求
app.use((req, res, next) => {
    console.log(`${req.method} ${req.path}`);
    next();
});

// 静态文件服务
app.use(express.static('public'));

// 首页路由
app.get('/', (req, res) => {
    res.send('Hello, world!');
});

// 用户注册接口 (POST请求)
app.post('/register', (req, res) => {
    // 处理注册逻辑
});

app.listen(3000, () => {
    console.log('Server listening on port 3000');
});
```

**何时使用哪个？**

- **全局性功能：** 使用 `app.use`。
- **特定 HTTP 方法和路径：** 使用 `app.get`、`app.post`、`app.put` 等。

**何时同时使用？**

- **通常情况下，我们会先用 `app.use` 定义全局中间件，然后用 `app.get`、`app.post` 等定义具体的路由处理函数。**

**总结：**

`app.use()` 提供了更灵活的路由匹配方式，适用于全局性的操作。而 `app.get()` 等方法则针对特定的 HTTP 方法和路径，用于处理具体的业务逻辑。